{"ast":null,"code":"// import SellerProductsComponent from  './SellerProductComponent.vue'\n// import AddProductComponent from  './AddProductComponent.vue'\nimport { mapGetters } from 'vuex';\nimport OpenProductComponent from '@/components/OpenProductComponent.vue';\nimport { deleteProduct } from '@/service/SellerProductService';\nexport default {\n  name: \"ProductTableComponent\",\n  computed: { ...mapGetters({\n      sellerproductlist: 'getSellerproducts'\n    }),\n\n    getListCount() {\n      return this.sellerproductlist.length;\n    }\n\n  },\n  watch: {\n    search() {\n      this.findData();\n    },\n\n    sortBy() {\n      this.sortData();\n    }\n\n  },\n\n  created() {\n    const userId = localStorage.getItem('userId');\n    console.log(\"inside created\");\n    console.log(userId);\n    this.$store.dispatch('getsellerproductsfromservice', userId);\n  },\n\n  components: {\n    OpenProductComponent\n  },\n\n  data() {\n    return {\n      fields: ['imageUrl', 'productName', 'category', 'price', 'quantity', 'description', 'action'],\n      modalShow: false,\n      product: [],\n      search: \"\",\n      sortBy: []\n    };\n  },\n\n  methods: {\n    findData() {\n      console.log(\"doind\");\n      var payload = {\n        sellerId: localStorage.getItem('userId'),\n        searchValue: this.search\n      };\n      this.$store.dispatch('searchProductServiceCall', payload);\n    },\n\n    sortData() {\n      console.log(this.sortBy);\n      const sellerid = localStorage.getItem('userId');\n      var sortBy = this.sortBy;\n      console.log(\"contaier\", sortBy);\n      this.$store.dispatch('sortSellerProducts', {\n        sellerid,\n        sortBy\n      });\n    },\n\n    editProduct(item) {\n      this.modalShow = true;\n      this.product = { ...item\n      };\n    },\n\n    removeModal() {\n      const userId = localStorage.getItem('userId');\n      this.$store.dispatch('getsellerproductsfromservice', userId);\n      this.modalShow = false;\n    },\n\n    deleteProduct(product) {\n      console.log(\"products\", product);\n      deleteProduct({\n        success: ({\n          data\n        }) => {\n          console.log(\"success delete\");\n\n          if (data.status_code == 200) {\n            console.log(\"inside code\");\n            const userId = localStorage.getItem('userId');\n            console.log(\"inside created\");\n            console.log(userId);\n            this.$store.dispatch('getsellerproductsfromservice', userId);\n          }\n\n          console.log(data);\n        },\n        error: e => {\n          console.warn(e);\n        },\n        payload: product\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2JA;AACA;AACA;AACA;AACA;AACA;EACAA,6BADA;EAEAC,UACA,EACA;MACAC;IADA,EADA;;IAIAC,eACA;MACA;IACA;;EAPA,CAHA;EAYAC;IACAC,SACA;MACA;IACA,CAJA;;IAKAC,SACA;MACA;IACA;;EARA,CAZA;;EAsBAC,UACA;IACA;IACAC;IACAA;IACA;EACA,CA5BA;;EA6BAC;IACAC;EADA,CA7BA;;EAiCAC,OACA;IACA;MACAC,6FADA;MAEAC,gBAFA;MAGAC,WAHA;MAIAT,UAJA;MAKAC;IALA;EASA,CA5CA;;EA6CAS;IACAC,WACA;MACAR;MACA;QACAS,wCADA;QAEAC;MAFA;MAIA;IAEA,CAVA;;IAWAC,WACA;MACAX;MACA;MACA;MACAA;MACA;QAAAY;QAAAd;MAAA;IACA,CAlBA;;IAmBAe,kBACA;MACA;MACA;MAAA;IACA,CAvBA;;IAwBAC,cACA;MACA;MACA;MACA;IACA,CA7BA;;IA8BAC,uBACA;MACAf;MACAe;QAEAC;UAAAb;QAAA;UAEAH;;UACA,6BACA;YACAA;YACA;YACAA;YACAA;YACA;UACA;;UACAA;QAEA,CAfA;QAgBAiB;UAEAjB;QACA,CAnBA;QAoBAkB;MApBA;IAuBA;;EAxDA;AA7CA","names":["name","computed","sellerproductlist","getListCount","watch","search","sortBy","created","console","components","OpenProductComponent","data","fields","modalShow","product","methods","findData","sellerId","searchValue","sortData","sellerid","editProduct","removeModal","deleteProduct","success","error","payload"],"sourceRoot":"src/components","sources":["ProductTableComponent.vue"],"sourcesContent":["<template>\n     <div class=\"main-body\">\n   \n          <div class=\"page-headers\">\n      <h4>Product Add</h4>\n      <h6>Create new product</h6>\n    </div>\n      \n    <div class=\"main-card\">\n    \n  \n<div class=\"dropdown\">\n  <b-icon-filter-circle-fill class=\"filtericon\"></b-icon-filter-circle-fill>\n  <div class=\"dropdown-content\">\n    <li><button @click=\"sortBy='name'\">Name</button></li>\n    <li><button @click=\"sortBy='price'\">Price</button></li>\n  </div>\n</div>\n    \n       <input class=\"searchButton\" type=\"text\" v-model=\"search\">\n     <button class=\"searchIcon\"  @click=\"findData()\">\n      <b-icon icon=\"search\"></b-icon>\n     </button>\n  \n      {{getListCount}}\n        <b-table v-if=\"getListCount!=0\" id=\"dataTable\" :class=\"hasList?'shortHeight':''\" sticky-header height=\"700\" responsive :fields=\"fields\" :items=\"sellerproductlist\">\n          <template #cell(imageUrl)=\"item\">\n               <img class=\"imageMain\" :src=\"item.item.imageUrl\" alt=\"\">\n          </template>\n          <template #cell(action)=\"item\">\n           <button class=\"editIcon\" @click=\"editProduct(item.item)\"> <b-icon-pencil></b-icon-pencil></button>\n            <button class=\"deleteIcon\" @click=\"deleteProduct(item.item)\"> <b-icon-trash-fill></b-icon-trash-fill></button>\n          </template>\n            \n        </b-table>\n        <div  v-else>\n                 <img src=\"@/\" alt=\"image\"/>\n               </div>\n    </div>\n       <div v-if=\"modalShow\">\n      <OpenProductComponent\n        :productItem=\"product\"\n        @hideModal=\"removeModal\"\n        :timeStamp=\"new Date().getTime()\"\n        :modalShowProp=\"(modalShow = true)\"\n      />\n    </div>\n     </div>\n</template>\n<style scoped>\n.filtericon\n{\n  font-size: 30px;\n}\n.dropdown {\n  position: relative;\n  display: inline-block;\n  margin-right:20px ;\n}\nli{\n  list-style-type: none;\n}\nli:hover{\n  color: black;\n}\nli button{\n  background: none;\n  border: none;\n}\n.dropdown-content {\n  display: none;\n\n  position: absolute;\n  background-color: #f9f9f9;\n  min-width: 160px;\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n  padding: 12px 16px;\n  z-index: 100;\n}\n\n.dropdown:hover .dropdown-content {\n  display: block;\n}\n.imageMain\n{\n  width: 100px;\n  height: 100px;\n}\n.searchButton\n{\n      background: 0 0;\n    height: 40px;\n    border: 1px solid rgba(145,158,171,.32);\n    width: 200px;\n    border-radius: 5px;\n    padding: 0 15px 0 30px;\n}\n.editIcon,.deleteIcon\n{\n  background: none;\n  border: none;\n  margin-left: 2%;\n  cursor: pointer;\n}\n.editIcon{\n  color: green;\n}\n.deleteIcon\n{\n  color:red\n}\n.b-table-sticky-header {\n    overflow-y: auto;\n    max-height: 600px;\n}\n.shortHeight\n{\n  max-height: 20px;\n}\n.main-card{\n  margin: 0 0 25px;\n \n  border: 1px solid #e8ebed;\n  border-radius: 6px;\n  background: white;\n  padding: 20px;\n}\n.searchIcon\n{\n  background: none;\n  border: none;\n  font-size: 20px;\n  margin-left: 10px;\n}\n.main-body {\n  padding: 1% 2%;\n  background: #fafbfe;\n  padding: 1%;\n  text-align: left;\n   height: 100vh;\n  font-family: sans-serif;\n}\n.page-headers h4 {\n  font-weight: 700;\n  color: #212b36;\n\n  font-size: 18px;\n}\n.page-headers h6 {\n  font-size: 14px;\n  color: #555;\n  font-weight: 400;\n}\n</style>\n<script>\n// import SellerProductsComponent from  './SellerProductComponent.vue'\n// import AddProductComponent from  './AddProductComponent.vue'\nimport { mapGetters } from 'vuex';\nimport OpenProductComponent from '@/components/OpenProductComponent.vue'\nimport {deleteProduct} from '@/service/SellerProductService'\nexport default {\n    name:\"ProductTableComponent\",\n      computed:\n  {\n      ...mapGetters({\n        sellerproductlist:'getSellerproducts'\n      }),\n      getListCount()\n      {\n        return this.sellerproductlist.length\n      }\n  },\n  watch:{\n    search()\n    {\n      this.findData()\n    },\n    sortBy()\n    {\n        this.sortData()\n    }\n  },\ncreated()\n  {\n    const userId = localStorage.getItem('userId');\n    console.log(\"inside created\")\n    console.log(userId)\n      this.$store.dispatch('getsellerproductsfromservice', userId);\n  },\n  components:{\n  OpenProductComponent,\n \n },\n    data()\n    {\n        return {\n          fields:['imageUrl','productName','category','price','quantity','description','action'],\n           modalShow:false,\n           product:[],\n           search:\"\",\n            sortBy:[],\n      \n            \n        }\n    },\n    methods:{\n      findData()\n    {\n      console.log(\"doind\")\n      var payload={\n        sellerId:localStorage.getItem('userId'),\n        searchValue:this.search\n      }\n      this.$store.dispatch('searchProductServiceCall',payload)\n      \n    },\n    sortData()\n    {\n    console.log(this.sortBy)\n    const sellerid = localStorage.getItem('userId');\n    var sortBy=this.sortBy\n    console.log(\"contaier\",sortBy)\n    this.$store.dispatch('sortSellerProducts',{sellerid,sortBy});\n    },\n      editProduct(item)\n      {\n          this.modalShow=true;\n          this.product={... item}\n      },\n      removeModal()\n      {\n        const userId = localStorage.getItem('userId');\n         this.$store.dispatch('getsellerproductsfromservice', userId);\n        this.modalShow = false\n      },\n      deleteProduct(product)\n    {\n      console.log(\"products\",product)\n      deleteProduct({\n           \n        success: ({ data }) => {\n            \n            console.log(\"success delete\")\n            if(data.status_code==200)\n            {\n              console.log(\"inside code\")\n              const userId = localStorage.getItem('userId');\n              console.log(\"inside created\")\n              console.log(userId)\n                this.$store.dispatch('getsellerproductsfromservice', userId);\n            }\n            console.log(data)\n        \n        },\n        error: (e) => {\n          \n            console.warn(e);\n        },\n        payload:product\n  \n    })\n    },\n    }\n}\n</script>"]},"metadata":{},"sourceType":"module"}