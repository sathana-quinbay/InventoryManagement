{"ast":null,"code":"import nameCheck from \"@/mixins/productValidation\";\nimport categoryCheck from \"@/mixins/productValidation\";\nimport { postsellerproducts } from \"@/service/SellerProductService\";\nexport default {\n  name: \"AddProductComponent\",\n\n  data() {\n    return {\n      dismissSecs: 10,\n      dismissCountDown: 0,\n      userMessage: \"\",\n      product: {\n        productName: \"\",\n        productPrice: 0,\n        description: \"\",\n        category: \"\",\n        price: 0,\n        sellerId: \"\",\n        quantity: 0,\n        errorSpanMessage: '',\n        coupon: \"\",\n        imageUrl: \"https://campiazza-media.s3.amazonaws.com/unknown.png\",\n        sellingPrice: \"\"\n      },\n      price: 1,\n      quantity: 0,\n      selectedFiles: undefined,\n      nameError: false,\n      errorSpanMessage: \"\",\n      categoryError: false,\n      imageError: false,\n      descriptionError: false,\n      nameSpanError: '',\n      categorySpanError: '',\n      descriptionSpanError: ''\n    };\n  },\n\n  watch: {\n    price(newvalue, olvalue) {\n      console.log(typeof newvalue, newvalue, typeof olvalue, olvalue);\n      console.log(typeof this.price, this.price);\n\n      if (this.price < 0) {\n        this.price = 1;\n      }\n    }\n\n  },\n  mixins: [nameCheck, categoryCheck],\n  methods: {\n    addProduct() {\n      this.nameError = false;\n      this.categoryError = false;\n      this.descriptionError = false;\n      this.imageError = false;\n      if (this.product.productName.length == 0) this.nameError = true;\n      if (this.product.category.length == 0) this.categoryError = true;\n      if (this.product.imageUrl.length == 0) this.imageError = true;\n      if (this.product.description.length == 0) this.descriptionError = true;\n      if (this.price.length == 0) this.price = 1;\n\n      if (!this.nameError && !this.categoryError && !this.imageError && !this.descriptionError) {\n        this.errorSpanMessage = '';\n        console.log(\"inside\");\n        this.nameCheck();\n        this.categoryCheck(); // this.descriptionCheck()\n\n        if (!this.nameError && !this.categoryError && !this.imageError && !this.descriptionError) {\n          this.product.sellerId = localStorage.getItem(\"userId\");\n          this.product.price = this.price, this.product.quantity = this.quantity;\n          postsellerproducts({\n            success: ({\n              data\n            }) => {\n              console.log(data);\n              this.showAlert();\n              this.userMessage = \"Product Added Sucessfuly\";\n              this.product = {\n                productName: \"\",\n                productPrice: \"\",\n                description: \"\",\n                category: \"\",\n                sellerId: \"\",\n                quantity: \"\",\n                coupon: \"\",\n                imageUrl: \"https://campiazza-media.s3.amazonaws.com/unknown.png\",\n                sellingPrice: \"\"\n              };\n              this.price = 0;\n              this.quantity = 0;\n            },\n            error: e => {\n              console.warn(e);\n              this.showAlert();\n              this.userMessage = \"Something went wrong\";\n            },\n            payload: this.product\n          });\n        }\n      } else {\n        this.errorSpanMessage = \"Please fill all the fields\";\n      }\n    },\n\n    selectFile() {\n      this.selectedFiles = event.target.files[0];\n    },\n\n    moveToAddProduct() {\n      this.$router.push({\n        path: \"import\"\n      });\n    },\n\n    countDownChanged(c) {\n      this.dismissCountDown = c;\n\n      if (c == 0) {\n        this.userMessage = \"\";\n      }\n    },\n\n    showAlert() {\n      this.dismissCountDown = this.dismissSecs;\n    },\n\n    uploadFile() {\n      console.log(\"file upload\");\n      console.log(this.selectedFiles);\n      var sellerId = localStorage.getItem(\"userId\");\n      let formData = new FormData();\n      formData.append(\"file\", this.selectedFiles);\n\n      for (const pair of formData.entries()) {\n        console.log(`${pair[0]}, ${pair[1]}`);\n      }\n\n      this.$store.dispatch(\"uploadFile\", {\n        formData,\n        sellerId\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAyHA;AACA;AACA;AACA;EACAA,2BADA;;EAEAC;IACA;MACAC,eADA;MAEAC,mBAFA;MAGAC,eAHA;MAIAC;QACAC,eADA;QAEAC,eAFA;QAGAC,eAHA;QAIAC,YAJA;QAKAC,QALA;QAMAC,YANA;QAOAC,WAPA;QAQAC,oBARA;QASAC,UATA;QAUAC,gEAVA;QAWAC;MAXA,CAJA;MAiBAN,QAjBA;MAkBAE,WAlBA;MAmBAK,wBAnBA;MAoBAC,gBApBA;MAqBAL,oBArBA;MAsBAM,oBAtBA;MAuBAC,iBAvBA;MAwBAC,uBAxBA;MAyBAC,iBAzBA;MA0BAC,qBA1BA;MA2BAC;IA3BA;EA6BA,CAhCA;;EAkCAC;IACAf;MACAgB;MACAA;;MACA;QACA;MACA;IACA;;EAPA,CAlCA;EA2CAC,kCA3CA;EA4CAC;IAEAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MACA,0FACA;QACA;QACAH;QACA;QACA,qBAJA,CAKA;;QACA,0FACA;UACA;UACA,iCACA,qCADA;UAEAI;YACAC;cAAA9B;YAAA;cACAyB;cACA;cACA;cACA;gBACApB,eADA;gBAEAC,gBAFA;gBAGAC,eAHA;gBAIAC,YAJA;gBAKAE,YALA;gBAMAC,YANA;gBAOAE,UAPA;gBAQAC,gEARA;gBASAC;cATA;cAWA;cACA;YACA,CAlBA;YAmBAgB;cACAN;cACA;cACA;YACA,CAvBA;YAwBAO;UAxBA;QA0BA;MACA,CAvCA,MAyCA;QACA;MACA;IACA,CAxDA;;IAyDAC;MACA;IACA,CA3DA;;IA4DAC;MACA;QAAAC;MAAA;IACA,CA9DA;;IA+DAC;MACA;;MACA;QACA;MACA;IACA,CApEA;;IAqEAC;MACA;IACA,CAvEA;;IAwEAC;MACAb;MACAA;MACA;MACA;MACAc;;MAEA;QACAd;MACA;;MACA;QAAAc;QAAA7B;MAAA;IACA;;EAnFA;AA5CA","names":["name","data","dismissSecs","dismissCountDown","userMessage","product","productName","productPrice","description","category","price","sellerId","quantity","errorSpanMessage","coupon","imageUrl","sellingPrice","selectedFiles","nameError","categoryError","imageError","descriptionError","nameSpanError","categorySpanError","descriptionSpanError","watch","console","mixins","methods","addProduct","postsellerproducts","success","error","payload","selectFile","moveToAddProduct","path","countDownChanged","showAlert","uploadFile","formData"],"sourceRoot":"src/components","sources":["AddProductFormComponent.vue"],"sourcesContent":["<template>\n  <div class=\"main-body\">\n    <b-alert\n      class=\"alertMessageText\"\n      :show=\"dismissCountDown\"\n      dismissible\n      variant=\"warning\"\n      @dismiss-count-down=\"countDownChanged\"\n    >\n      {{ userMessage }}\n      <span class=\"seconds\">{{ dismissCountDown }} seconds...</span>\n    </b-alert>\n    <div class=\"page-headers\">\n      <b-container-fluid>\n        <b-row>\n          <h4>Product Add</h4>\n          <h6>Create new product</h6>\n        </b-row>\n      </b-container-fluid>\n    </div>\n\n    <div class=\"main-body-container\">\n      <b-row>\n        <b-container-fluid>\n          <b-row>\n            <b-col class=\"uploadFile\">\n              <button @click=\"moveToAddProduct\" class=\"addCsv\">\n                Upload via csv\n              </button>\n            </b-col>\n          </b-row>\n          <b-row>\n            <b-col cols=\"12\" lg=\"8\" md=\"8\" sm=\"12\">\n              <b-row>\n                <span class=\"errorMessage\">{{errorSpanMessage}}</span>\n                 \n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\"><span class=\"starClass\">*</span> Product Name</label>\n                  <b-form-input\n                    :class=\"nameError ? 'inputError' : ''\"\n                    v-model=\"product.productName\"\n                    type=\"text\"\n                    required\n                  ></b-form-input>\n                   <span class=\"errorMessage\">{{nameSpanError}}</span>\n                  \n                </b-col>\n\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\"><span class=\"starClass\">*</span> Product Price in ( &#8377; )</label>\n                  <b-form-input\n                 \n                    v-model=\"price\"\n                    type=\"number\"\n                  ></b-form-input>\n                </b-col>\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\"><span class=\"starClass\">*</span> Quantity</label>\n                  <b-form-input\n                    @blur=\"roundOff\"\n                    v-model=\"quantity\"\n                    type=\"number\"\n                  ></b-form-input>\n                </b-col>\n              </b-row>\n              <b-row>\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                 \n                  <label class=\"formLabels\"><span class=\"starClass\">*</span> Category</label>\n                  <b-form-input\n                    v-model=\"product.category\"\n                    type=\"text\"\n                    :class=\"categoryError ? 'inputError' : ''\"\n                  ></b-form-input>\n                   <span class=\"errorMessage\">{{categorySpanError}}</span> \n                </b-col>\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\"><span class=\"starClass\">*</span> Image Url</label>\n                  <b-form-input\n                    v-model=\"product.imageUrl\"\n                    type=\"text\"\n                    :class=\"imageError ? 'inputError' : ''\"\n                  ></b-form-input>\n                </b-col>\n              </b-row>\n            </b-col>\n\n            <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n              <img\n                class=\"imgFound\"\n                width=\"150px\"\n                height=\"150px\"\n                :src=\"product.imageUrl\"\n                alt=\"Image not found\"\n                srcset=\"\"\n              />\n            </b-col>\n          </b-row>\n        </b-container-fluid>\n      </b-row>\n      <b-row>\n        <b-col cols=\"12\" lg=\"12\" md=\"12\" sm=\"12\">\n          <label class=\"formLabels\"><span class=\"starClass\">*</span> Descriptions</label>\n          <b-form-textarea\n            id=\"textarea\"\n            v-model=\"product.description\"\n            :class=\"descriptionError ? 'inputError' : ''\"\n            placeholder=\"Maximum 350 characters\"\n            rows=\"3\"\n            max-rows=\"6\"\n          ></b-form-textarea>\n           <span class=\"errorMessage\">{{descriptionSpanError}}</span> \n        </b-col>\n        <b-col class=\"submit-button-product\">\n          <button class=\"download_csv\" @click=\"addProduct\">Submit</button>\n        </b-col>\n      </b-row>\n    </div>\n  </div>\n</template>\n<script>\nimport nameCheck from \"@/mixins/productValidation\"\nimport categoryCheck from \"@/mixins/productValidation\"\nimport { postsellerproducts } from \"@/service/SellerProductService\";\nexport default {\n  name: \"AddProductComponent\",\n  data() {\n    return {\n      dismissSecs: 10,\n      dismissCountDown: 0,\n      userMessage: \"\",\n      product: {\n        productName: \"\",\n        productPrice: 0,\n        description: \"\",\n        category: \"\",\n        price: 0,\n        sellerId: \"\",\n        quantity: 0,\n        errorSpanMessage:'',\n        coupon: \"\",\n        imageUrl: \"https://campiazza-media.s3.amazonaws.com/unknown.png\",\n        sellingPrice: \"\",\n      },\n      price: 1,\n      quantity: 0,\n      selectedFiles: undefined,\n      nameError: false,\n      errorSpanMessage:\"\",\n      categoryError: false,\n      imageError: false,\n      descriptionError: false,\n      nameSpanError:'',\n      categorySpanError:'',\n      descriptionSpanError:''\n    };\n  },\n\n  watch: {\n    price(newvalue, olvalue) {\n      console.log(typeof newvalue, newvalue, typeof olvalue, olvalue);\n      console.log(typeof this.price, this.price);\n      if (this.price < 0) {\n        this.price = 1;\n      }\n    },\n  },\n  mixins:[nameCheck,categoryCheck],\n  methods: {\n   \n    addProduct() {\n      this.nameError = false;\n      this.categoryError = false;\n      this.descriptionError = false;\n      this.imageError = false;\n      if (this.product.productName.length == 0) this.nameError = true;\n      if (this.product.category.length == 0) this.categoryError = true;\n      if (this.product.imageUrl.length == 0) this.imageError = true;\n      if (this.product.description.length == 0) this.descriptionError = true;\n      if (this.price.length == 0) this.price = 1;\n      if(!this.nameError&&(!this.categoryError)&&(!this.imageError)&&(!this.descriptionError))\n      { \n        this.errorSpanMessage=''\n        console.log(\"inside\")\n        this.nameCheck();\n         this.categoryCheck()\n        // this.descriptionCheck()\n         if(!this.nameError&&(!this.categoryError)&&(!this.imageError)&&(!this.descriptionError))\n      {\n      this.product.sellerId = localStorage.getItem(\"userId\");\n      (this.product.price = this.price),\n        (this.product.quantity = this.quantity);\n      postsellerproducts({\n        success: ({ data }) => {\n          console.log(data);\n          this.showAlert();\n          this.userMessage = \"Product Added Sucessfuly\";\n          this.product = {\n            productName: \"\",\n            productPrice: \"\",\n            description: \"\",\n            category: \"\",\n            sellerId: \"\",\n            quantity: \"\",\n            coupon: \"\",\n            imageUrl: \"https://campiazza-media.s3.amazonaws.com/unknown.png\",\n            sellingPrice: \"\",\n          };\n          this.price = 0;\n          this.quantity = 0;\n        },\n        error: (e) => {\n          console.warn(e);\n          this.showAlert();\n          this.userMessage = \"Something went wrong\";\n        },\n        payload: this.product,\n      });\n      }\n      }\n      else\n      {\n        this.errorSpanMessage=\"Please fill all the fields\"\n      }\n    },\n    selectFile() {\n      this.selectedFiles = event.target.files[0];\n    },\n    moveToAddProduct() {\n      this.$router.push({ path: \"import\" });\n    },\n    countDownChanged(c) {\n      this.dismissCountDown = c;\n      if (c == 0) {\n        this.userMessage = \"\";\n      }\n    },\n    showAlert() {\n      this.dismissCountDown = this.dismissSecs;\n    },\n    uploadFile() {\n      console.log(\"file upload\");\n      console.log(this.selectedFiles);\n      var sellerId = localStorage.getItem(\"userId\");\n      let formData = new FormData();\n      formData.append(\"file\", this.selectedFiles);\n\n      for (const pair of formData.entries()) {\n        console.log(`${pair[0]}, ${pair[1]}`);\n      }\n      this.$store.dispatch(\"uploadFile\", { formData, sellerId });\n    },\n  },\n};\n</script>\n<style scoped>\n.uploadFile {\n  display: flex;\n  justify-content: flex-end;\n}\n.addCsv {\n  min-width: 120px;\n  background: #1b2850;\n\n  color: #fff;\n  font-size: 14px;\n  border: none;\n  text-decoration: none;\n  border-radius: 10px;\n  font-weight: 700;\n  padding: 14px 10px;\n}\nspan.errorMessage,.starClass\n{\n  color: red;\n}\n.addCsv a {\n  text-decoration: none;\n  color: white;\n}\n.uploadFile {\n  display: flex;\n  align-items: flex-end;\n}\n\n.main-body-container {\n  margin: 0 0 25px;\n\n  border: 1px solid #e8ebed;\n  border-radius: 6px;\n  background: white;\n  padding: 20px;\n}\n.inputError {\n  border: 1px solid red;\n}\n.imgFound {\n  max-width: 200px;\n  max-height: 200px;\n}\n.seconds {\n  display: none;\n}\n.alertMessageText {\n  text-align: center;\n}\n.main-body {\n  padding: 1% 2%;\n  background: #fafbfe;\n  padding: 1%;\n  text-align: left;\n  height: 100vh;\n  font-family: sans-serif;\n}\n.addProduct {\n  margin: 1% 2%;\n  text-align: left;\n}\n.download_csv {\n  min-width: 120px;\n  background: #ff9f43;\n  color: #fff;\n  font-size: 14px;\n  border: none;\n  border-radius: 10px;\n  font-weight: 700;\n  padding: 14px 10px;\n}\n.submit-button-product {\n  margin-top: 2%;\n}\n.download_csv:hover {\n  background: #ff8e25;\n}\n.page-headers h4 {\n  font-weight: 700;\n  color: #212b36;\n\n  font-size: 18px;\n}\n.page-headers h6 {\n  font-size: 14px;\n  color: #555;\n  font-weight: 400;\n}\n</style>\n\n"]},"metadata":{},"sourceType":"module"}