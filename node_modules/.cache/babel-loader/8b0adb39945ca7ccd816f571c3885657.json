{"ast":null,"code":"import { postsellerproducts } from \"@/service/SellerProductService\";\nexport default {\n  name: \"AddProductComponent\",\n\n  data() {\n    return {\n      dismissSecs: 10,\n      dismissCountDown: 0,\n      userMessage: \"\",\n      product: {\n        productName: \"\",\n        productPrice: \"\",\n        description: \"\",\n        category: \"\",\n        sellerId: \"\",\n        quantity: \"\",\n        coupon: \"\",\n        imageUrl: \"https://campiazza-media.s3.amazonaws.com/unknown.png\",\n        sellingPrice: \"\"\n      },\n      selectedFiles: undefined\n    };\n  },\n\n  methods: {\n    addProduct() {\n      this.product.sellerId = localStorage.getItem(\"userId\");\n      postsellerproducts({\n        success: ({\n          data\n        }) => {\n          console.log(data);\n          this.showAlert();\n          this.userMessage = \"Product Added Sucessfuly\";\n        },\n        error: e => {\n          console.warn(e);\n          this.showAlert();\n          this.userMessage = \"Something went wrong\";\n        },\n        payload: this.product\n      });\n    },\n\n    selectFile() {\n      this.selectedFiles = event.target.files[0];\n    },\n\n    countDownChanged(c) {\n      this.dismissCountDown = c;\n\n      if (c == 0) {\n        this.userMessage = \"\";\n      }\n    },\n\n    showAlert() {\n      this.dismissCountDown = this.dismissSecs;\n    },\n\n    uploadFile() {\n      console.log(\"file upload\");\n      console.log(this.selectedFiles);\n      var sellerId = localStorage.getItem(\"userId\");\n      let formData = new FormData();\n      formData.append(\"file\", this.selectedFiles);\n\n      for (const pair of formData.entries()) {\n        console.log(`${pair[0]}, ${pair[1]}`);\n      }\n\n      this.$store.dispatch(\"uploadFile\", {\n        formData,\n        sellerId\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA4FA;AACA;EACAA,2BADA;;EAEAC;IACA;MACAC,eADA;MAEAC,mBAFA;MAGAC,eAHA;MAIAC;QACAC,eADA;QAEAC,gBAFA;QAGAC,eAHA;QAIAC,YAJA;QAKAC,YALA;QAMAC,YANA;QAOAC,UAPA;QAQAC,gEARA;QASAC;MATA,CAJA;MAeAC;IAfA;EAiBA,CApBA;;EAqBAC;IACAC;MACA;MACAC;QACAC;UAAAlB;QAAA;UACAmB;UACA;UACA;QACA,CALA;QAMAC;UACAD;UACA;UACA;QACA,CAVA;QAWAE;MAXA;IAaA,CAhBA;;IAiBAC;MACA;IACA,CAnBA;;IAoBAC;MAEA;;MACA,YACA;QACA;MACA;IACA,CA3BA;;IA4BAC;MACA;IACA,CA9BA;;IA+BAC;MACAN;MACAA;MACA;MACA;MACAO;;MAEA;QACAP;MACA;;MACA;QAAAO;QAAAjB;MAAA;IACA;;EA1CA;AArBA","names":["name","data","dismissSecs","dismissCountDown","userMessage","product","productName","productPrice","description","category","sellerId","quantity","coupon","imageUrl","sellingPrice","selectedFiles","methods","addProduct","postsellerproducts","success","console","error","payload","selectFile","countDownChanged","showAlert","uploadFile","formData"],"sourceRoot":"src/components","sources":["AddProductFormComponent.vue"],"sourcesContent":["<template>\n  <div class=\"main-body\">\n    <b-alert class=\"alertMessageText\" :show=\"dismissCountDown\"\n             dismissible\n            \n             variant=\"warning\"\n             @dismiss-count-down=\"countDownChanged\">\n       {{userMessage}} <span class=\"seconds\">{{dismissCountDown}} seconds...</span>\n    </b-alert>\n    <div class=\"page-headers\">\n      <h4>Product Add</h4>\n      <h6>Create new product</h6>\n    </div>\n    \n    <div class=\"main-body-container\">\n      <b-row>\n        <b-container-fluid>\n          <b-row>\n            <b-col cols=\"12\" lg=\"8\" md=\"8\" sm=\"12\">\n              <b-row>\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\">Product Name</label>\n\n                  <b-form-input\n                    v-model=\"product.productName\"\n                    type=\"text\"\n                  ></b-form-input>\n                </b-col>\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\">Product Price</label>\n                  <b-form-input\n                    v-model=\"product.price\"\n                    type=\"number\"\n                  ></b-form-input>\n                </b-col>\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\">Quantity</label>\n                  <b-form-input\n                    v-model=\"product.quantity\"\n                    type=\"text\"\n                  ></b-form-input>\n                </b-col>\n              </b-row>\n              <b-row>\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\">Category</label>\n                  <b-form-input\n                    v-model=\"product.category\"\n                    type=\"text\"\n                  ></b-form-input>\n                </b-col>\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\">Image Url</label>\n                  <b-form-input\n                    v-model=\"product.imageUrl\"\n                    type=\"text\"\n                  ></b-form-input>\n                </b-col>\n              </b-row>\n            </b-col>\n\n            <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n              <img\n                width=\"150px\"\n                height=\"150px\"\n                :src=\"product.imageUrl\"\n                alt=\"\"\n                srcset=\"\"\n              />\n            </b-col>\n          </b-row>\n        </b-container-fluid>\n      </b-row>\n      <b-row>\n        <b-col cols=\"12\" lg=\"12\" md=\"12\" sm=\"12\">\n          <label class=\"formLabels\">Descriptions</label>\n          <b-form-textarea\n            id=\"textarea\"\n            v-model=\"product.description\"\n            placeholder=\"Enter something...\"\n            rows=\"3\"\n            max-rows=\"6\"\n          ></b-form-textarea>\n        </b-col>\n        <b-col class=\"submit-button-product\">\n          <button class=\"download_csv\" @click=\"addProduct\">Submit</button>\n        </b-col>\n      </b-row>\n    </div>\n  </div>\n</template>\n<script>\nimport { postsellerproducts } from \"@/service/SellerProductService\";\nexport default {\n  name: \"AddProductComponent\",\n  data() {\n    return {\n          dismissSecs: 10,\n          dismissCountDown: 0,\n          userMessage:\"\",\n      product: {\n        productName: \"\",\n        productPrice: \"\",\n        description: \"\",\n        category: \"\",\n        sellerId: \"\",\n        quantity: \"\",\n        coupon: \"\",\n        imageUrl: \"https://campiazza-media.s3.amazonaws.com/unknown.png\",\n        sellingPrice: \"\",\n      },\n      selectedFiles: undefined,\n    };\n  },\n  methods: {\n    addProduct() {\n      this.product.sellerId = localStorage.getItem(\"userId\");\n      postsellerproducts({\n        success: ({ data }) => {\n          console.log(data);\n          this.showAlert()\n          this.userMessage=\"Product Added Sucessfuly\"\n        },\n        error: (e) => {\n          console.warn(e);\n          this.showAlert()\n          this.userMessage=\"Something went wrong\"\n        },\n        payload: this.product,\n      });\n    },\n    selectFile() {\n      this.selectedFiles = event.target.files[0];\n    },\n     countDownChanged(c) {\n           \n        this.dismissCountDown = c;\n        if(c==0)\n        {\n            this.userMessage=\"\"\n        }\n      },\n      showAlert() {\n        this.dismissCountDown = this.dismissSecs;\n      },\n    uploadFile() {\n      console.log(\"file upload\");\n      console.log(this.selectedFiles);\n      var sellerId = localStorage.getItem(\"userId\");\n      let formData = new FormData();\n      formData.append(\"file\", this.selectedFiles);\n\n      for (const pair of formData.entries()) {\n        console.log(`${pair[0]}, ${pair[1]}`);\n      }\n      this.$store.dispatch(\"uploadFile\", { formData, sellerId });\n    },\n  },\n};\n</script>\n<style scoped>\n.main-body-container {\n  margin: 0 0 25px;\n \n  border: 1px solid #e8ebed;\n  border-radius: 6px;\n  background: white;\n  padding: 20px;\n}\n.main-body {\n  padding: 1% 2%;\n  background: #fafbfe;\n  padding: 1%;\n  text-align: left;\n   height: 100vh;\n  font-family: sans-serif;\n}\n.addProduct {\n  margin: 1% 2%;\n  text-align: left;\n}\n.download_csv {\n  min-width: 120px;\n  background: #ff9f43;\n  color: #fff;\n  font-size: 14px;\n  border: none;\n  border-radius: 10px;\n  font-weight: 700;\n  padding: 14px 10px;\n \n}\n.submit-button-product\n{\n    margin-top: 2%;\n}\n.download_csv:hover {\n  background: #ff8e25;\n}\n.page-headers h4 {\n  font-weight: 700;\n  color: #212b36;\n\n  font-size: 18px;\n}\n.page-headers h6 {\n  font-size: 14px;\n  color: #555;\n  font-weight: 400;\n}\n</style>\n\n"]},"metadata":{},"sourceType":"module"}