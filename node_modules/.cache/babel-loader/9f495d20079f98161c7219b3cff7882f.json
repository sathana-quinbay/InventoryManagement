{"ast":null,"code":"// import SellerProductsComponent from  './SellerProductComponent.vue'\n// import AddProductComponent from  './AddProductComponent.vue'\nimport { mapGetters } from \"vuex\";\nimport OpenProductComponent from \"@/components/OpenProductComponent.vue\";\nimport { deleteProduct } from \"@/service/SellerProductService\";\nexport default {\n  name: \"ProductTableComponent\",\n  computed: { ...mapGetters({\n      sellerproductlist: \"getSellerproducts\"\n    }),\n\n    getListCount() {\n      return this.sellerproductlist.length;\n    },\n\n    sortedData() {\n      console.log(this.sellerproductlist); // var MyData = {... this.sellerproductlist}\n      // MyData.sort(this.dynamicSort(\"productName\"));\n      // console.log(MyData)\n\n      return this.sellerproductlist.length;\n    }\n\n  },\n  watch: {\n    search() {\n      if (this.search != \"\") this.findData();else {\n        var userId = localStorage.getItem(\"userId\");\n        userId = 1;\n        this.$store.dispatch(\"getsellerproductsfromservice\", userId);\n      }\n    },\n\n    sortBy() {\n      this.sortData();\n    }\n\n  },\n\n  created() {\n    const userId = localStorage.getItem(\"userId\");\n    console.log(\"inside created\");\n    console.log(userId);\n    this.$store.dispatch(\"getsellerproductsfromservice\", userId);\n  },\n\n  components: {\n    OpenProductComponent\n  },\n\n  data() {\n    return {\n      fields: [{\n        key: \"imageUrl\",\n        sortable: false\n      }, {\n        key: \"productName\",\n        sortable: false\n      }, {\n        key: \"category\",\n        sortable: false\n      }, {\n        key: \"price\",\n        sortable: false\n      }, {\n        key: \"quantity\",\n        sortable: false\n      }, {\n        key: \"action\",\n        sortable: false\n      }],\n      modalShow: false,\n      product: [],\n      minRange: 1000,\n      maxRange: 30000,\n      search: \"\",\n      deleteItem: \"\",\n      sortBy: []\n    };\n  },\n\n  mounted() {\n    console.log(\"inside mounteed\");\n    console.log(this.sellerproductlist); //added\n\n    var userId = localStorage.getItem(\"userId\");\n    userId = 1;\n    this.$store.dispatch(\"getsellerproductsfromservice\", userId); // var MyData = {... this.sellerproductlist}\n    // MyData.sort(this.dynamicSort(\"ame\"));\n    // Display data with new order !\n    // console.log(MyData);\n  },\n\n  methods: {\n    dynamicSort(property) {\n      var sortOrder = 1;\n\n      if (property[0] === \"-\") {\n        sortOrder = -1;\n        property = property.substr(1);\n      }\n\n      return function (a, b) {\n        if (sortOrder == -1) {\n          return b[property].localeCompare(a[property]);\n        } else {\n          return a[property].localeCompare(b[property]);\n        }\n      };\n    },\n\n    findData() {\n      console.log(\"doind\");\n      var payload = {\n        sellerId: localStorage.getItem(\"userId\"),\n        searchValue: this.search\n      };\n      this.$store.dispatch(\"searchProductServiceCall\", payload);\n    },\n\n    findPrice() {\n      var payload = {\n        minRange: this.minRange,\n        maxRange: this.maxRange\n      };\n      this.$store.dispatch('searchProductByPrice', payload);\n    },\n\n    clearPrice() {\n      var userId = localStorage.getItem(\"userId\");\n      userId = 1;\n      this.search = '';\n      this.$store.dispatch(\"getsellerproductsfromservice\", userId);\n    },\n\n    showModal(item) {\n      this.$refs[\"my-modal\"].show();\n      this.deleteItem = item;\n      console.log(\"delete item\", this.deleteItem);\n    },\n\n    hideModal() {\n      this.$refs[\"my-modal\"].hide();\n    },\n\n    sortData() {\n      console.log(this.sortBy);\n      const sellerid = localStorage.getItem(\"userId\");\n      var sortBy = this.sortBy;\n      this.search = \"\";\n      console.log(\"contaier\", sortBy);\n      this.$store.dispatch(\"sortSellerProducts\", {\n        sellerid,\n        sortBy\n      });\n    },\n\n    editProduct(item) {\n      this.modalShow = true;\n      this.product = { ...item\n      };\n      console.log(\"edited\", this.product);\n    },\n\n    removeModal() {\n      var userId = localStorage.getItem(\"userId\");\n      this.$store.dispatch(\"getsellerproductsfromservice\", userId);\n      this.modalShow = false;\n    },\n\n    deleteProductFunction() {\n      var product = this.deleteItem;\n      console.log(\"products\", product);\n      deleteProduct({\n        success: ({\n          data\n        }) => {\n          console.log(\"success delete\");\n\n          if (data.status_code == 200) {\n            console.log(\"inside code\");\n            var userId = localStorage.getItem(\"userId\");\n            console.log(\"inside created\");\n            console.log(userId);\n            this.$store.dispatch(\"getsellerproductsfromservice\", userId);\n            this.findData();\n            this.deleteItem = \"\";\n          }\n\n          console.log(data);\n          this.hideModal();\n        },\n        error: e => {\n          console.warn(e);\n        },\n        payload: product\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAgsBA;AACA;AACA;AACA;AACA;AAEA;EACAA,6BADA;EAEAC,YACA;MACAC;IADA,EADA;;IAIAC;MACA;IACA,CANA;;IAOAC;MACAC,oCADA,CAEA;MACA;MACA;;MACA;IACA;;EAbA,CAFA;EAiBAC;IACAC;MACA,4CACA;QACA;QACAC;QACA;MACA;IACA,CARA;;IASAC;MACA;IACA;;EAXA,CAjBA;;EA8BAC;IACA;IACAL;IACAA;IACA;EACA,CAnCA;;EAoCAM;IACAC;EADA,CApCA;;EAuCAC;IACA;MACAC,SACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAC;MAAA,CAHA,EAIA;QAAAD;QAAAC;MAAA,CAJA,EAKA;QAAAD;QAAAC;MAAA,CALA,EAOA;QAAAD;QAAAC;MAAA,CAPA,CADA;MAUAC,gBAVA;MAWAC,WAXA;MAYAC,cAZA;MAaAC,eAbA;MAcAb,UAdA;MAeAc,cAfA;MAgBAZ;IAhBA;EAkBA,CA1DA;;EA4DAa;IACAjB;IACAA,oCAFA,CAGA;;IACA;IACAG;IACA,6DANA,CAQA;IACA;IAEA;IACA;EACA,CAzEA;;EA2EAe;IACAC;MACA;;MAEA;QACAC;QACAC;MACA;;MAEA;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA;MACA,CANA;IAOA,CAhBA;;IAiBAC;MACAtB;MACA;QACAuB,wCADA;QAEAC;MAFA;MAKA;IACA,CAzBA;;IA0BAC,YACA;MACA;QACAX,uBADA;QAEAC;MAFA;MAKA;IACA,CAlCA;;IAmCAW,aACA;MACA;MACAvB;MACA;MACA;IAEA,CA1CA;;IA2CAwB;MACA;MACA;MACA3B;IACA,CA/CA;;IAgDA4B;MACA;IACA,CAlDA;;IAmDAC;MACA7B;MACA;MACA;MACA;MACAA;MACA;QAAA8B;QAAA1B;MAAA;IACA,CA1DA;;IA2DA2B;MACA;MACA;MAAA;MACA/B;IACA,CA/DA;;IAgEAgC;MACA;MACA;MACA;IACA,CApEA;;IAsEAC;MACA;MACAjC;MACAkC;QACAC;UAAA3B;QAAA;UACAR;;UACA;YACAA;YACA;YACAA;YACAA;YACA;YACA;YACA;UACA;;UACAA;UACA;QACA,CAdA;QAeAoC;UACApC;QACA,CAjBA;QAkBAqC;MAlBA;IAoBA;;EA7FA;AA3EA","names":["name","computed","sellerproductlist","getListCount","sortedData","console","watch","search","userId","sortBy","created","components","OpenProductComponent","data","fields","key","sortable","modalShow","product","minRange","maxRange","deleteItem","mounted","methods","dynamicSort","sortOrder","property","findData","sellerId","searchValue","findPrice","clearPrice","showModal","hideModal","sortData","sellerid","editProduct","removeModal","deleteProductFunction","deleteProduct","success","error","payload"],"sourceRoot":"src/components","sources":["ProductTableComponent.vue"],"sourcesContent":["<template>\n  <div class=\"main-body\">\n    <div class=\"main-card\">\n      <b-container-fluid>\n        <b-row>\n          <b-col cols=\"12\" lg=\"6\" sm=\"12\" md=\"12\">\n            <div class=\"dropdown\">\n              <b-icon-filter-circle-fill\n                class=\"filtericon\"\n              ></b-icon-filter-circle-fill>\n              <div class=\"dropdown-content\">\n                <li><button @click=\"sortBy = 'name'\">Name</button></li>\n                <li><button @click=\"sortBy = 'price'\">Price</button></li>\n              </div>\n            </div>\n            <input class=\"searchButton\" type=\"text\" v-model=\"search\" />\n            <button class=\"searchIcon\" @click=\"findData()\">\n              <b-icon icon=\"search\"></b-icon>\n            </button>\n          </b-col>\n           <b-col class=\"priceSlider\" cols=\"12\" lg=\"6\" sm=\"6\" md=\"6\">\n            \n                  <!-- <label class=\"formLabels\"> Min Value</label>\n                  <b-form-input\n                    :class=\"nameError ? 'inputError' : ''\"\n                    v-model=\"product.productName\"\n                    type=\"text\"\n                    required\n                  ></b-form-input>\n                   <span class=\"errorMessage\">{{nameSpanError}}</span> -->\n                  \n                \n<div class=\"priceRange\">\n  <div class=\"range-slider\">\n  <span class=\"rangeValues\">Price Range [ {{minRange}} - {{maxRange}} ]</span>\n  <input value=\"1000\" v-model=\"minRange\" min=\"1000\" max=\"50000\" step=\"500\" type=\"range\">\n  <input value=\"50000\" v-model=\"maxRange\" min=\"1000\" max=\"50000\" step=\"500\" type=\"range\">\n  \n</div>\n<div class=\"buttonFind\">\n  <button class=\"find\" @click=\"findPrice\">Find</button>\n<button class=\"clear\" @click=\"clearPrice\">clear</button>\n</div>\n</div>\n\n          </b-col> \n        </b-row>\n      </b-container-fluid>\n\n      <div v-if=\"getListCount == 0\" class=\"notfound\">\n        <img\n          class=\"notFoundImg\"\n          src=\"../assets/notfound.png\"\n          alt=\"imageNoutFound\"\n        />\n      </div>\n      <b-table\n        v-else\n        id=\"dataTable\"\n        sticky-header\n        height=\"700\"\n        responsive\n        :fields=\"fields\"\n        :items=\"sellerproductlist\"\n      >\n        <template #cell(imageUrl)=\"item\">\n          <img class=\"imageMain\" :src=\"item.item.imageUrl\" alt=\"Not found\" />\n        </template>\n        <template #cell(action)=\"item\">\n          <button class=\"editIcon\" @click=\"editProduct(item.item)\">\n            <b-icon-eye></b-icon-eye>\n          </button>\n          <button class=\"deleteIcon\" @click=\"showModal(item.item)\">\n            <b-icon-trash-fill></b-icon-trash-fill>\n          </button>\n        </template>\n      </b-table>\n    </div>\n    <b-modal\n      ref=\"my-modal\"\n      hide-footer\n      title=\"Products will be deleted permanently\"\n    >\n      <div class=\"d-block text-center\">\n        <p>Are you sure?</p>\n      </div>\n      <div class=\"button-group\">\n        <b-button\n          class=\"mt-3 reactivate-button yesButton\"\n          variant=\"outline-primary\"\n          block\n          @click=\"deleteProductFunction\"\n          >Yes</b-button\n        >\n        <b-button\n          class=\"mt-3 noButton\"\n          variant=\"outline-danger\"\n          block\n          @click=\"hideModal\"\n          >No</b-button\n        >\n      </div>\n    </b-modal>\n    <div v-if=\"modalShow\">\n      <OpenProductComponent\n        :productItem=\"product\"\n        @hideModal=\"removeModal\"\n        :timeStamp=\"new Date().getTime()\"\n        :modalShowProp=\"(modalShow = true)\"\n      />\n    </div>\n  </div>\n</template>\n<style scoped>\n.yesButton:hover {\n  background: #212b36;\n  color: white;\n  width: 40%;\n  border: none;\n}\n.find\n{\n  background: #212b36;\n  border: none;\n  padding: 1%;\n  border-radius:10px;\n   color: white;\n}\n.priceRange\n{\n  display: flex;\n  justify-content: space-evenly;\n}\n.buttonFind\n{\n  display: flex;\n  justify-content: space-evenly;\n  width:60%\n}\n@media screen and (max-width:600px) {\n  .priceSlider\n{\n  margin-top:4%;\n  margin-bottom: 4%;\n}\n  \n}\n@media screen and (max-width:450px) {\n .priceRange\n{\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n}\n.priceRange button{\n  margin-top:4%;\n  width:30%;\n}\n}\n.clear{\n  background: #ff9f43;\n  border: none;\n  padding: 1%;\n  border-radius:10px;\n   color: white;\n}\n.yesButton {\n  background: none;\n  color: #212b36;\n  width: 40%;\n  border: 1px solid #212b36;\n}\n.noButton:hover {\n  width: 40%;\n  background: #ff9f43;\n  color: white;\n  border: none;\n}\n.noButton {\n  width: 40%;\n  background: none;\n  color: #ff9f43;\n  border: 1px solid #ff9f43;\n}\n\n.imageMain {\n  background-image: url(\"https://phulbanimunicipality.nic.in/wards.php\");\n}\n.filtericon {\n  font-size: 30px;\n}\n.dropdown {\n  position: relative;\n  display: inline-block;\n  margin-right: 20px;\n}\nli {\n  list-style-type: none;\n}\n.notfound {\n  margin-top: 3%;\n  display: flex;\n  text-align: center;\n  justify-content: center;\n}\nli:hover {\n  color: black;\n}\nli button {\n  background: none;\n  border: none;\n}\n.button-group {\n  display: flex;\n  justify-content: space-around;\n}\n.dropdown-content {\n  display: none;\n\n  position: absolute;\n  background-color: #f9f9f9;\n  min-width: 160px;\n  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n  padding: 12px 16px;\n  z-index: 100;\n}\n\n.dropdown:hover .dropdown-content {\n  display: block;\n}\n.imageMain {\n  width: 100px;\n  height: 100px;\n}\n.searchButton {\n  background: 0 0;\n  height: 40px;\n  border: 1px solid rgba(145, 158, 171, 0.32);\n  width: 200px;\n  border-radius: 5px;\n  padding: 0 15px 0 30px;\n}\n.editIcon,\n.deleteIcon {\n  background: none;\n  border: none;\n  margin-left: 2%;\n  cursor: pointer;\n}\n.editIcon {\n  color: green;\n}\n.deleteIcon {\n  color: red;\n}\n@media screen and (max-width: 600px) {\n  img.notFoundImg {\n    width: 100%;\n  }\n  .searchButton {\n    background: 0 0;\n    height: 40px;\n    border: 1px solid rgba(145, 158, 171, 0.32);\n    width: 140px;\n    border-radius: 5px;\n    padding: 0 15px 0 30px;\n  }\n  .submitButton {\n    min-width: 101px;\n    float: right;\n    background: #ff9f43;\n    color: #fff;\n    font-size: 14px;\n    border: none;\n    border-radius: 10px;\n    font-weight: 700;\n    padding: 4px 10px;\n  }\n}\n.b-table-sticky-header {\n  overflow-y: auto;\n  max-height: 600px;\n}\n.shortHeight {\n  max-height: 20px;\n}\n.main-card {\n  margin: 0 0 25px;\n  margin-top: 2%;\n\n  border: 1px solid #e8ebed;\n  border-radius: 6px;\n  background: white;\n  padding: 20px;\n}\n.searchIcon {\n  background: none;\n  border: none;\n  font-size: 20px;\n  margin-left: 10px;\n}\n.main-body {\n  padding: 1% 2%;\n  background: #fafbfe;\n  padding: 1%;\n  text-align: left;\n  height: 100vh;\n  font-family: sans-serif;\n}\n.page-headers h4 {\n  font-weight: 700;\n  color: #212b36;\n\n  font-size: 18px;\n}\n.submitButton {\n  min-width: 120px;\n  float: right;\n  background: #ff9f43;\n  color: #fff;\n  font-size: 14px;\n  border: none;\n  border-radius: 10px;\n  font-weight: 700;\n  padding: 14px 10px;\n}\n.page-headers h6 {\n  font-size: 14px;\n  color: #555;\n  font-weight: 400;\n}\n.searchDiv\n{\n  text-align: left;\n}\n.viewButtons\n{\n  display: flex;\n  justify-content: space-around;\n}\n.viewByButton{\n  margin: none;\n  padding:1%;\n  width: 50%;\n  background: none;\n  color: white;\n  border: none;\n  color: black;\n  \n}\n.viewByButtonNot\n{\n  background: none;\n font-size:30px;\n border: none;\n}\n.main-body-container\n{\n  margin: 0 0 25px;\n  margin-top:2%;\n \n  border: 1px solid #e8ebed;\n  border-radius: 6px;\n  background: white;\n  padding: 20px;\n}\n.searchButton\n{\n      background: 0 0;\n    height: 40px;\n    border: 1px solid rgba(145,158,171,.32);\n    width: 200px;\n    border-radius: 5px;\n    padding: 0 15px 0 30px;\n}\n.searchIcon\n{\n  background: none;\n  border: none;\n  font-size: 20px;\n  margin-left: 10px;\n}\n.main-body {\n  padding: 1% 2%;\n  background: #fafbfe;\n  padding: 1%;\n  text-align: left;\n   height: 100vh;\n  font-family: sans-serif;\n}\n.submitButton\n{\n    min-width: 120px;\n    float: right;\n  background: #ff9f43;\n  color: #fff;\n  font-size: 14px;\n  border: none;\n  border-radius: 10px;\n  font-weight: 700;\n  padding: 14px 10px;\n \n\n}\n@media screen and (max-width:600px) {\n  .notFoundImg img {\n    width: 100%;\n}\n .submitButton{\n    min-width: 101px;\n    float: right;\n    background: #ff9f43;\n    color: #fff;\n    font-size: 14px;\n    border: none;\n    border-radius: 10px;\n    font-weight: 700;\n    padding: 4px 10px;\n}\n  .searchButton {\n    background: 0 0;\n    height: 40px;\n    border: 1px solid rgba(145,158,171,.32);\n    width: 140px;\n    border-radius: 5px;\n    padding: 0 15px 0 30px;\n}\n}\n.page-headers h4 {\n  font-weight: 700;\n  color: #212b36;\n\n  font-size: 18px;\n}\n.range-slider {\n  width: 300px;\n  text-align: center;\n  position: relative;\n  \n}\n.rangeValues {\n    display: block;\n  }\ninput[type=range] {\n  -webkit-appearance: none;\n  border: 1px solid white;\n  width: 300px;\n  position: absolute;\n  left: 0;\n}\n\ninput[type=range]::-webkit-slider-runnable-track {\n  width: 300px;\n  height: 5px;\n  background: #ddd;\n  border: none;\n  border-radius: 3px;\n\n}\n\ninput[type=range]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  border: none;\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  background: #21c1ff;\n  margin-top: -4px;\n    cursor: pointer;\n      position: relative;\n    z-index: 1;\n}\n\ninput[type=range]:focus {\n  outline: none;\n}\n\ninput[type=range]:focus::-webkit-slider-runnable-track {\n  background: #ccc;\n}\n\ninput[type=range]::-moz-range-track {\n  width: 300px;\n  height: 5px;\n  background: #ddd;\n  border: none;\n  border-radius: 3px;\n}\n\ninput[type=range]::-moz-range-thumb {\n  border: none;\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  background: #21c1ff;\n  \n}\n\n\n/*hide the outline behind the border*/\n\ninput[type=range]:-moz-focusring {\n  outline: 1px solid white;\n  outline-offset: -1px;\n}\n\ninput[type=range]::-ms-track {\n  width: 300px;\n  height: 5px;\n  /*remove bg colour from the track, we'll use ms-fill-lower and ms-fill-upper instead */\n  background: transparent;\n  /*leave room for the larger thumb to overflow with a transparent border */\n  border-color: transparent;\n  border-width: 6px 0;\n  /*remove default tick marks*/\n  color: transparent;\n    z-index: -4;\n\n}\n.notFound\n{\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  \n}\ninput[type=range]::-ms-fill-lower {\n  background: #777;\n  border-radius: 10px;\n}\n\ninput[type=range]::-ms-fill-upper {\n  background: #ddd;\n  border-radius: 10px;\n}\n\ninput[type=range]::-ms-thumb {\n  border: none;\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  background: #21c1ff;\n}\n\ninput[type=range]:focus::-ms-fill-lower {\n  background: #888;\n}\n\ninput[type=range]:focus::-ms-fill-upper {\n  background: #ccc;\n}\n\n.container{\n  margin-top:5%;\n  display: block;\n}\n.container-bgColor{\n padding:40px;\n  overflow-y:scroll;\n  height: 500px;\n   \n    border-radius:20px;\n}\n/* .containers\n{  \n   \n    height:600px;\n    display:flex;\n    justify-content: space-between;\n    flex-wrap:wrap;\n   \n \n    font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif\n} */\n.container-table{\n  margin-top:3%;\n}\n.addButton{\n  margin-top:0%;\n  display: block;\n  width:max-content;\n  border: none;\n  background:  #A760FF;\n  color: white;\n  /* position: sticky;\n  top:100px;\n  left:100px; */\n  margin-right: 2%;\n}\n.addButton:hover{\n  color: white;\n}\n\n  \n.searchDiv\n{\n  text-align: left;\n}\n.viewButtons\n{\n  display: flex;\n  justify-content: space-around;\n}\n.viewByButton{\n  margin: none;\n  padding:1%;\n  width: 50%;\n  background: none;\n  color: white;\n  border: none;\n  color: black;\n  \n}\n.viewByButtonNot\n{\n  background: none;\n font-size:30px;\n border: none;\n}\n.imageMain\n{\n \nbackground-image:url('https://phulbanimunicipality.nic.in/wards.php');\n}\n.filtericon\n{\n  font-size: 30px;\n}\n.dropdown {\n  position: relative;\n  display: inline-block;\n  margin-right:20px ;\n}\nli{\n  list-style-type: none;\n}\n.notfound\n{\n  margin-top:3%;\n  display: flex;\n  text-align: center;\n  justify-content: center;\n}\nli:hover{\n  color: black;\n}\nli button{\n  background: none;\n  border: none;\n}\n.dropdown-content {\n  display: none;\n\n  position: absolute;\n  background-color: #f9f9f9;\n  min-width: 160px;\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n  padding: 12px 16px;\n  z-index: 100;\n}\n\n.dropdown:hover .dropdown-content {\n  display: block;\n}\n.imageMain\n{\n  width: 100px;\n  height: 100px;\n}\n.searchButton\n{\n      background: 0 0;\n    height: 40px;\n    border: 1px solid rgba(145,158,171,.32);\n    width: 200px;\n    border-radius: 5px;\n    padding: 0 15px 0 30px;\n}\n.editIcon,.deleteIcon\n{\n  background: none;\n  border: none;\n  margin-left: 2%;\n  cursor: pointer;\n}\n.editIcon{\n  color: green;\n}\n.deleteIcon\n{\n  color:red\n}\n.b-table-sticky-header {\n    overflow-y: auto;\n    max-height: 600px;\n}\n.shortHeight\n{\n  max-height: 20px;\n}\n\n\n</style>\n<script>\n// import SellerProductsComponent from  './SellerProductComponent.vue'\n// import AddProductComponent from  './AddProductComponent.vue'\nimport { mapGetters } from \"vuex\";\nimport OpenProductComponent from \"@/components/OpenProductComponent.vue\";\nimport { deleteProduct } from \"@/service/SellerProductService\";\n\nexport default {\n  name: \"ProductTableComponent\",\n  computed: {\n    ...mapGetters({\n      sellerproductlist: \"getSellerproducts\",\n    }),\n    getListCount() {\n      return this.sellerproductlist.length;\n    },\n    sortedData() {\n      console.log(this.sellerproductlist);\n      // var MyData = {... this.sellerproductlist}\n      // MyData.sort(this.dynamicSort(\"productName\"));\n      // console.log(MyData)\n      return this.sellerproductlist.length;\n    },\n  },\n  watch: {\n    search() {\n      if (this.search != \"\") this.findData();\n      else {\n        var userId = localStorage.getItem(\"userId\");\n        userId = 1;\n        this.$store.dispatch(\"getsellerproductsfromservice\", userId);\n      }\n    },\n    sortBy() {\n      this.sortData();\n    },\n  },\n  created() {\n    const userId = localStorage.getItem(\"userId\");\n    console.log(\"inside created\");\n    console.log(userId);\n    this.$store.dispatch(\"getsellerproductsfromservice\", userId);\n  },\n  components: {\n    OpenProductComponent,\n  },\n  data() {\n    return {\n      fields: [\n        { key: \"imageUrl\", sortable: false },\n        { key: \"productName\", sortable: false },\n        { key: \"category\", sortable: false },\n        { key: \"price\", sortable: false },\n        { key: \"quantity\", sortable: false },\n\n        { key: \"action\", sortable: false },\n      ],\n      modalShow: false,\n      product: [],\n       minRange:1000,\n    maxRange:30000,\n      search: \"\",\n      deleteItem: \"\",\n      sortBy: [],\n    };\n  },\n\n  mounted() {\n    console.log(\"inside mounteed\");\n    console.log(this.sellerproductlist);\n    //added\n    var userId = localStorage.getItem(\"userId\");\n    userId = 1;\n    this.$store.dispatch(\"getsellerproductsfromservice\", userId);\n\n    // var MyData = {... this.sellerproductlist}\n    // MyData.sort(this.dynamicSort(\"ame\"));\n\n    // Display data with new order !\n    // console.log(MyData);\n  },\n \n  methods: {\n    dynamicSort(property) {\n      var sortOrder = 1;\n\n      if (property[0] === \"-\") {\n        sortOrder = -1;\n        property = property.substr(1);\n      }\n\n      return function (a, b) {\n        if (sortOrder == -1) {\n          return b[property].localeCompare(a[property]);\n        } else {\n          return a[property].localeCompare(b[property]);\n        }\n      };\n    },\n    findData() {\n      console.log(\"doind\");\n      var payload = {\n        sellerId: localStorage.getItem(\"userId\"),\n        searchValue: this.search,\n      };\n\n      this.$store.dispatch(\"searchProductServiceCall\", payload);\n    },\n     findPrice()\n    {\n      var payload={\n        minRange:this.minRange,\n        maxRange:this.maxRange\n      }\n\n      this.$store.dispatch('searchProductByPrice',payload);\n    },\n    clearPrice()\n    {\n       var userId = localStorage.getItem(\"userId\");\n        userId = 1;\n        this.search=''\n        this.$store.dispatch(\"getsellerproductsfromservice\", userId);\n\n    },\n    showModal(item) {\n      this.$refs[\"my-modal\"].show();\n      this.deleteItem = item;\n      console.log(\"delete item\", this.deleteItem);\n    },\n    hideModal() {\n      this.$refs[\"my-modal\"].hide();\n    },\n    sortData() {\n      console.log(this.sortBy);\n      const sellerid = localStorage.getItem(\"userId\");\n      var sortBy = this.sortBy;\n      this.search = \"\";\n      console.log(\"contaier\", sortBy);\n      this.$store.dispatch(\"sortSellerProducts\", { sellerid, sortBy });\n    },\n    editProduct(item) {\n      this.modalShow = true;\n      this.product = { ...item };\n      console.log(\"edited\", this.product);\n    },\n    removeModal() {\n      var userId = localStorage.getItem(\"userId\");\n      this.$store.dispatch(\"getsellerproductsfromservice\", userId);\n      this.modalShow = false;\n    },\n    \n    deleteProductFunction() {\n      var product = this.deleteItem;\n      console.log(\"products\", product);\n      deleteProduct({\n        success: ({ data }) => {\n          console.log(\"success delete\");\n          if (data.status_code == 200) {\n            console.log(\"inside code\");\n            var userId = localStorage.getItem(\"userId\");\n            console.log(\"inside created\");\n            console.log(userId);\n            this.$store.dispatch(\"getsellerproductsfromservice\", userId);\n            this.findData();\n            this.deleteItem = \"\";\n          }\n          console.log(data);\n          this.hideModal();\n        },\n        error: (e) => {\n          console.warn(e);\n        },\n        payload: product,\n      });\n    },\n  },\n};\n</script>"]},"metadata":{},"sourceType":"module"}