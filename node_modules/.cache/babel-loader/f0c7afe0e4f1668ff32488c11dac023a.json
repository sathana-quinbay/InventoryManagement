{"ast":null,"code":"import { postsellerproducts } from \"@/service/SellerProductService\";\nexport default {\n  name: \"AddProductComponent\",\n\n  data() {\n    return {\n      dismissSecs: 10,\n      dismissCountDown: 0,\n      userMessage: \"\",\n      product: {\n        productName: \"\",\n        productPrice: 0,\n        description: \"\",\n        category: \"\",\n        price: 0,\n        sellerId: \"\",\n        quantity: 0,\n        coupon: \"\",\n        imageUrl: \"https://campiazza-media.s3.amazonaws.com/unknown.png\",\n        sellingPrice: \"\"\n      },\n      price: 1,\n      quantity: 0,\n      selectedFiles: undefined,\n      nameError: false,\n      categoryError: false,\n      imageError: false,\n      descriptionError: false\n    };\n  },\n\n  watch: {\n    price(newvalue, olvalue) {\n      console.log(typeof newvalue, newvalue, typeof olvalue, olvalue);\n      console.log(typeof this.price, this.price);\n\n      if (this.price < 0) {\n        this.price = 1;\n      }\n    }\n\n  },\n  methods: {\n    roundOff() {\n      if (this.quantity == '' || this.quantity < 0 || this.quantity == undefined) {\n        this.quantity = 0;\n      } else {\n        this.quantity = parseInt(this.quantity);\n      }\n    },\n\n    addProduct() {\n      this.nameError = false;\n      this.categoryError = false;\n      this.descriptionError = false;\n      this.imageError = false;\n      if (this.product.productName.length == 0) this.nameError = true;\n      if (this.product.category.length == 0) this.categoryError = true;\n      if (this.product.imageUrl.length == 0) this.imageError = true;\n      if (this.product.description.length == 0) this.descriptionError = true;\n      if (this.price.length == 0) this.price = 1;\n      this.product.sellerId = localStorage.getItem(\"userId\");\n      this.product.price = this.price, this.product.quantity = this.quantity;\n      postsellerproducts({\n        success: ({\n          data\n        }) => {\n          console.log(data);\n          this.showAlert();\n          this.userMessage = \"Product Added Sucessfuly\";\n          this.product = {\n            productName: \"\",\n            productPrice: \"\",\n            description: \"\",\n            category: \"\",\n            sellerId: \"\",\n            quantity: \"\",\n            coupon: \"\",\n            imageUrl: \"https://campiazza-media.s3.amazonaws.com/unknown.png\",\n            sellingPrice: \"\"\n          };\n          this.price = 0;\n          this.quantity = 0;\n        },\n        error: e => {\n          console.warn(e);\n          this.showAlert();\n          this.userMessage = \"Something went wrong\";\n        },\n        payload: this.product\n      });\n    },\n\n    selectFile() {\n      this.selectedFiles = event.target.files[0];\n    },\n\n    moveToAddProduct() {\n      this.$router.push({\n        path: 'import'\n      });\n    },\n\n    countDownChanged(c) {\n      this.dismissCountDown = c;\n\n      if (c == 0) {\n        this.userMessage = \"\";\n      }\n    },\n\n    showAlert() {\n      this.dismissCountDown = this.dismissSecs;\n    },\n\n    uploadFile() {\n      console.log(\"file upload\");\n      console.log(this.selectedFiles);\n      var sellerId = localStorage.getItem(\"userId\");\n      let formData = new FormData();\n      formData.append(\"file\", this.selectedFiles);\n\n      for (const pair of formData.entries()) {\n        console.log(`${pair[0]}, ${pair[1]}`);\n      }\n\n      this.$store.dispatch(\"uploadFile\", {\n        formData,\n        sellerId\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAuHA;AACA;EACAA,2BADA;;EAEAC;IACA;MACAC,eADA;MAEAC,mBAFA;MAGAC,eAHA;MAIAC;QACAC,eADA;QAEAC,eAFA;QAGAC,eAHA;QAIAC,YAJA;QAKAC,QALA;QAMAC,YANA;QAOAC,WAPA;QAQAC,UARA;QASAC,gEATA;QAUAC;MAVA,CAJA;MAgBAL,QAhBA;MAiBAE,WAjBA;MAkBAI,wBAlBA;MAmBAC,gBAnBA;MAoBAC,oBApBA;MAqBAC,iBArBA;MAsBAC;IAtBA;EAwBA,CA3BA;;EA6BAC;IACAX,yBACA;MACAY;MACAA;;MACA,oBACA;QACA;MACA;IAEA;;EAVA,CA7BA;EA0CAC;IACAC,WACA;MAEA,4EACA;QACA;MACA,CAHA,MAIA;QACA;MAEA;IAEA,CAbA;;IAcAC;MACA;MACA;MACA;MACA;MACA,0CACA;MACA,uCACA;MACA,uCACA;MACA,0CACA;MACA,4BACA;MACA;MACA,iCACA,qCADA;MAEAC;QACAC;UAAA1B;QAAA;UACAqB;UACA;UACA;UACA;YACAhB,eADA;YAEAC,gBAFA;YAGAC,eAHA;YAIAC,YAJA;YAKAE,YALA;YAMAC,YANA;YAOAC,UAPA;YAQAC,gEARA;YASAC;UATA;UAWA;UACA;QACA,CAlBA;QAmBAa;UACAN;UACA;UACA;QACA,CAvBA;QAwBAO;MAxBA;IA0BA,CA1DA;;IA2DAC;MACA;IACA,CA7DA;;IA8DAC,mBACA;MACA;QAAAC;MAAA;IACA,CAjEA;;IAkEAC;MAEA;;MACA,YACA;QACA;MACA;IACA,CAzEA;;IA0EAC;MACA;IACA,CA5EA;;IA6EAC;MACAb;MACAA;MACA;MACA;MACAc;;MAEA;QACAd;MACA;;MACA;QAAAc;QAAAzB;MAAA;IACA;;EAxFA;AA1CA","names":["name","data","dismissSecs","dismissCountDown","userMessage","product","productName","productPrice","description","category","price","sellerId","quantity","coupon","imageUrl","sellingPrice","selectedFiles","nameError","categoryError","imageError","descriptionError","watch","console","methods","roundOff","addProduct","postsellerproducts","success","error","payload","selectFile","moveToAddProduct","path","countDownChanged","showAlert","uploadFile","formData"],"sourceRoot":"src/components","sources":["AddProductFormComponent.vue"],"sourcesContent":["<template>\n  <div class=\"main-body\">\n    <b-alert class=\"alertMessageText\" :show=\"dismissCountDown\"\n             dismissible\n            \n             variant=\"warning\"\n             @dismiss-count-down=\"countDownChanged\">\n       {{userMessage}} <span class=\"seconds\">{{dismissCountDown}} seconds...</span>\n    </b-alert>\n    <div class=\"page-headers\">\n    \n       <b-container-fluid>\n        <b-row>\n          \n            <h4>Product Add</h4>\n      <h6>Create new product</h6>\n\n        </b-row>\n      </b-container-fluid>\n    </div>\n    \n    <div class=\"main-body-container\">\n      <b-row>\n        <b-container-fluid>\n          <b-row>\n              <b-col class=\"uploadFile\">\n              <button @click=\"moveToAddProduct\" class=\"addCsv\">Upload via csv</button>\n            </b-col>\n          </b-row>\n          <b-row>\n          \n            <b-col cols=\"12\" lg=\"8\" md=\"8\" sm=\"12\">\n              <b-row>\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\">Product Name</label>\n\n                  <b-form-input\n                    :class=\"nameError?'inputError':''\"\n                    v-model=\"product.productName\"\n                    type=\"text\"\n                    required\n                  ></b-form-input>\n                </b-col>\n                 \n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\">Product Price in ( &#8377; )</label>\n                  <b-form-input\n                 prepend=\"$\"\n                    v-model=\"price\"\n                    type=\"number\"\n\n                  ></b-form-input>\n                </b-col>\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\">Quantity</label>\n                  <b-form-input\n                    @blur=\"roundOff\"\n                    v-model=\"quantity\"\n                    type=\"number\"\n                  ></b-form-input>\n                </b-col>\n              </b-row>\n              <b-row>\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\">Category</label>\n                  <b-form-input\n                    v-model=\"product.category\"\n                    \n                    type=\"text\"\n                    \n                     :class=\"categoryError?'inputError':''\"\n                  ></b-form-input>\n                </b-col>\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\">Image Url</label>\n                  <b-form-input\n                    v-model=\"product.imageUrl\"\n                    type=\"text\"\n                     \n                      :class=\"imageError?'inputError':''\"\n                  ></b-form-input>\n                </b-col>\n              </b-row>\n            </b-col>\n\n            <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n              <img\n              class=\"imgFound\"\n                width=\"150px\"\n                height=\"150px\"\n                :src=\"product.imageUrl\"\n                alt=\"Image not found\"\n                srcset=\"\"\n                   \n              />\n            </b-col>\n          </b-row>\n        </b-container-fluid>\n      </b-row>\n      <b-row>\n        <b-col cols=\"12\" lg=\"12\" md=\"12\" sm=\"12\">\n          <label class=\"formLabels\">Descriptions</label>\n          <b-form-textarea\n            id=\"textarea\"\n            v-model=\"product.description\"\n            :class=\"descriptionError?'inputError':''\"\n            placeholder=\"Enter something...\"\n            rows=\"3\"\n            max-rows=\"6\"\n          ></b-form-textarea>\n        </b-col>\n        <b-col class=\"submit-button-product\">\n          <button class=\"download_csv\" @click=\"addProduct\">Submit</button>\n        </b-col>\n      </b-row>\n    </div>\n  </div>\n</template>\n<script>\nimport { postsellerproducts } from \"@/service/SellerProductService\";\nexport default {\n  name: \"AddProductComponent\",\n  data() {\n    return {\n          dismissSecs: 10,\n          dismissCountDown: 0,\n          userMessage:\"\",\n      product: {\n        productName: \"\",\n        productPrice: 0,\n        description: \"\",\n        category: \"\",\n        price:0,\n        sellerId: \"\",\n        quantity: 0,\n        coupon: \"\",\n        imageUrl: \"https://campiazza-media.s3.amazonaws.com/unknown.png\",\n        sellingPrice: \"\",\n      },\n       price:1,\n       quantity:0,\n      selectedFiles: undefined,\n      nameError:false,\n      categoryError:false,\n      imageError:false,\n      descriptionError:false\n    };\n  },\n  \n watch:{\n  price(newvalue,olvalue)\n  {\n    console.log(typeof newvalue,newvalue,typeof olvalue,olvalue)\n     console.log(typeof this.price,this.price)\n      if(this.price<0)\n      {\n         this.price=1\n      }\n     \n  },\n  \n},\nmethods: {\n  roundOff()\n  {\n    \n     if(this.quantity==''|| this.quantity<0 ||this.quantity==undefined)\n      {\n         this.quantity=0\n      }\n      else{\n        this.quantity=parseInt(this.quantity);\n\n      }\n\n  },\n    addProduct() {\n      this.nameError=false\n       this.categoryError=false\n       this.descriptionError=false\n        this.imageError=false\n      if(this.product.productName.length==0)\n      this.nameError=true\n      if(this.product.category.length==0)\n      this.categoryError=true\n      if(this.product.imageUrl.length==0)\n      this.imageError=true\n      if(this.product.description.length==0)\n      this.descriptionError=true\n      if(this.price.length==0)\n      this.price=1\n      this.product.sellerId = localStorage.getItem(\"userId\");\n      this.product.price=this.price,\n      this.product.quantity=this.quantity\n      postsellerproducts({\n        success: ({ data }) => {\n          console.log(data);\n          this.showAlert()\n          this.userMessage=\"Product Added Sucessfuly\"\n           this.product={\n        productName: \"\",\n        productPrice: \"\",\n        description: \"\",\n        category: \"\",\n        sellerId: \"\",\n        quantity: \"\",\n        coupon: \"\",\n        imageUrl: \"https://campiazza-media.s3.amazonaws.com/unknown.png\",\n        sellingPrice: \"\",\n      }\n      this.price=0;\n      this.quantity=0;\n        },\n        error: (e) => {\n          console.warn(e);\n          this.showAlert()\n          this.userMessage=\"Something went wrong\"\n        },\n        payload: this.product,\n      });\n    },\n    selectFile() {\n      this.selectedFiles = event.target.files[0];\n    },\n    moveToAddProduct()\n    {\n           this.$router.push({path:'import'})\n    },\n     countDownChanged(c) {\n           \n        this.dismissCountDown = c;\n        if(c==0)\n        {\n            this.userMessage=\"\"\n        }\n      },\n      showAlert() {\n        this.dismissCountDown = this.dismissSecs;\n      },\n    uploadFile() {\n      console.log(\"file upload\");\n      console.log(this.selectedFiles);\n      var sellerId = localStorage.getItem(\"userId\");\n      let formData = new FormData();\n      formData.append(\"file\", this.selectedFiles);\n\n      for (const pair of formData.entries()) {\n        console.log(`${pair[0]}, ${pair[1]}`);\n      }\n      this.$store.dispatch(\"uploadFile\", { formData, sellerId });\n    },\n  },\n};\n</script>\n<style scoped>\n.uploadFile\n{\n\n    display: flex;\n    justify-content: flex-end;\n\n}\n.addCsv\n{\n \nmin-width: 120px;\nbackground: #1b2850;\n\n  color: #fff;\n  font-size: 14px;\n  border: none;\n  text-decoration: none;\n  border-radius: 10px;\n  font-weight: 700;\n  padding: 14px 10px;\n}\n.addCsv a{\n\n    text-decoration: none;\n    color: white;\n\n}\n.uploadFile\n{\n  display: flex;\n  align-items: flex-end;\n}\n\n.main-body-container {\n  margin: 0 0 25px;\n \n  border: 1px solid #e8ebed;\n  border-radius: 6px;\n  background: white;\n  padding: 20px;\n}\n.inputError\n{\n  border:1px solid red;\n}\n.imgFound\n{\n  max-width: 200px;\n  max-height: 200px;\n}\n.seconds\n{\n    display: none;\n}\n.alertMessageText\n{\n    text-align: center;\n}\n.main-body {\n  padding: 1% 2%;\n  background: #fafbfe;\n  padding: 1%;\n  text-align: left;\n   height: 100vh;\n  font-family: sans-serif;\n}\n.addProduct {\n  margin: 1% 2%;\n  text-align: left;\n}\n.download_csv {\n  min-width: 120px;\n  background: #ff9f43;\n  color: #fff;\n  font-size: 14px;\n  border: none;\n  border-radius: 10px;\n  font-weight: 700;\n  padding: 14px 10px;\n \n}\n.submit-button-product\n{\n    margin-top: 2%;\n}\n.download_csv:hover {\n  background: #ff8e25;\n}\n.page-headers h4 {\n  font-weight: 700;\n  color: #212b36;\n\n  font-size: 18px;\n}\n.page-headers h6 {\n  font-size: 14px;\n  color: #555;\n  font-weight: 400;\n}\n</style>\n\n"]},"metadata":{},"sourceType":"module"}