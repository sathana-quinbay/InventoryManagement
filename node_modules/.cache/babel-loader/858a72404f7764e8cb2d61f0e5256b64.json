{"ast":null,"code":"import { uploadProductViaFile } from '@/service/SellerProductService';\nexport default {\n  name: \"ImportProductComponent\",\n\n  data() {\n    return {\n      dismissSecs: 10,\n      dismissCountDown: 0,\n      userMessage: \"\",\n      csvFileData: [['Samsung A3', 'Hello', 'Mobile', '50000.00', '45', 'imageul.png']],\n      selectedFiles: undefined,\n      files: [],\n      items: [{\n        id: 1,\n        Fields: 'productName',\n        condition: true\n      }, {\n        id: 2,\n        Fields: 'description',\n        condition: true\n      }, {\n        id: 3,\n        Fields: 'category',\n        condition: true\n      }, {\n        id: 4,\n        Fields: 'price',\n        condition: true\n      }, {\n        id: 5,\n        Fields: 'quantity',\n        condition: true\n      }, {\n        id: 6,\n        Fields: 'imageUrl',\n        condition: true\n      }, {\n        id: 7,\n        Fields: 'emailId',\n        condition: false\n      }]\n    };\n  },\n\n  computed: {\n    uploadDisabled() {\n      return this.files.length === 0;\n    }\n\n  },\n  methods: {\n    selectFile() {\n      this.selectedFiles = event.target.files[0];\n    },\n\n    uploadFile() {\n      console.log(\"file upload\");\n      console.log(this.selectedFiles);\n      var sellerId = localStorage.getItem('userId');\n      let formData = new FormData();\n      formData.append(\"file\", this.selectedFiles);\n\n      for (const pair of formData.entries()) {\n        console.log(`${pair[0]}, ${pair[1]}`);\n      }\n\n      this.$store.dispatch('uploadFile', {\n        formData,\n        sellerId\n      });\n    },\n\n    download_csv_file() {\n      //define the heading for each row of the data\n      var csv = 'productName,description,category,price,quantity,imageUrl\\n'; //merge the data with CSV\n\n      this.csvFileData.forEach(function (row) {\n        csv += row.join(',');\n        csv += \"\\n\";\n      }); //display the created CSV data on the web browser \n\n      document.write(csv);\n      var hiddenElement = document.createElement('a');\n      hiddenElement.href = 'data:text/csv;charset=utf-8,' + encodeURI(csv);\n      hiddenElement.target = '_blank'; //provide the name for the CSV file to be downloaded\n\n      hiddenElement.download = 'sampleProduct.csv';\n      hiddenElement.click(); // document.removeElement('a')\n\n      location.reload();\n    },\n\n    addFile(e) {\n      let droppedFiles = e.dataTransfer.files;\n      console.log(droppedFiles);\n      this.files = [];\n      if (!droppedFiles) return; // this tip, convert FileList to array, credit: https://www.smashingmagazine.com/2018/01/drag-drop-file-uploader-vanilla-js/\n\n      [...droppedFiles].forEach(f => {\n        this.files.push(f);\n      });\n      this.$refs.file.value = null;\n    },\n\n    uploadFileNow() {\n      console.log(\"file upload\");\n      console.log(this.selectedFiles);\n      var sellerId = localStorage.getItem('userId');\n      let formData = new FormData();\n      formData.append(\"file\", this.files[0]);\n      console.log(this.files[0]);\n\n      for (const pair of formData.entries()) {\n        console.log(`${pair[0]}, ${pair[1]}`);\n      }\n\n      var payload = {\n        formData,\n        sellerId\n      };\n      uploadProductViaFile({\n        success: ({\n          data\n        }) => {\n          console.log(\"import product\");\n          console.log(data);\n\n          if (data.message == 'success') {\n            this.userMessage = \"Products Added Successfullt\";\n          }\n        },\n        error: e => {\n          console.warn(e);\n        },\n        payload\n      });\n    },\n\n    countDownChanged(c) {\n      this.dismissCountDown = c;\n\n      if (c == 0) {\n        this.userMessage = \"\";\n      }\n    },\n\n    showAlert() {\n      this.dismissCountDown = this.dismissSecs;\n    },\n\n    addFileInput() {\n      console.log(\"add file\");\n      this.files = [];\n      this.files.push(event.target.files[0]);\n      this.$refs.file.value = null;\n    },\n\n    removeFile(file) {\n      this.files = this.files.filter(f => {\n        return f != file;\n      });\n    },\n\n    upload() {\n      let formData = new FormData();\n      this.files.forEach((f, x) => {\n        formData.append('file' + (x + 1), f);\n      });\n      fetch('https://httpbin.org/post', {\n        method: 'POST',\n        body: formData\n      }).then(res => res.json()).then(res => {\n        console.log('done uploading', res);\n      }).catch(e => {\n        console.error(JSON.stringify(e.message));\n      });\n    }\n\n  }\n};","map":{"version":3,"names":["uploadProductViaFile","name","data","dismissSecs","dismissCountDown","userMessage","csvFileData","selectedFiles","undefined","files","items","id","Fields","condition","computed","uploadDisabled","length","methods","selectFile","event","target","uploadFile","console","log","sellerId","localStorage","getItem","formData","FormData","append","pair","entries","$store","dispatch","download_csv_file","csv","forEach","row","join","document","write","hiddenElement","createElement","href","encodeURI","download","click","location","reload","addFile","e","droppedFiles","dataTransfer","f","push","$refs","file","value","uploadFileNow","payload","success","message","error","warn","countDownChanged","c","showAlert","addFileInput","removeFile","filter","upload","x","fetch","method","body","then","res","json","catch","JSON","stringify"],"sources":["/Users/sathanav/Documents/GitHub/Management/InventoryManagement/src/components/scripts/ImportProductComponent.js"],"sourcesContent":["import {uploadProductViaFile} from '@/service/SellerProductService'\nexport default{\n    name:\"ImportProductComponent\",\n    data(){\n        return {\n          dismissSecs: 10,\n          dismissCountDown: 0,\n          userMessage:\"\",\n            csvFileData: [\n                ['Samsung A3','Hello','Mobile','50000.00','45','imageul.png'],\n               \n             ],\n             selectedFiles: undefined,\n             files:[],\n             items: [\n               \n                { id:1,Fields:'productName',condition:true },\n                { id:2,Fields: 'description',condition:true },\n                { id:3,Fields: 'category',condition:true},\n                { id:4,Fields:'price' ,condition:true},\n                { id:5,Fields:'quantity' ,condition:true },\n                { id:6,Fields:'imageUrl' ,condition:true },\n                { id:7,Fields:'emailId' ,condition:false }\n              ]\n        }\n\n    },\n    computed: {\n        uploadDisabled() {\n          return this.files.length === 0;\n        }\n      },\n    methods:{\n        selectFile() {\n            this.selectedFiles = event.target.files[0];\n          },\n          uploadFile()\n          {\n            console.log(\"file upload\")\n            console.log(this.selectedFiles)\n            var sellerId=localStorage.getItem('userId');\n              let formData = new FormData();\n              formData.append(\"file\",this.selectedFiles);\n            \n              for (const pair of formData.entries()) {\n                console.log(`${pair[0]}, ${pair[1]}`);\n              }\n              this.$store.dispatch('uploadFile',{formData,sellerId})\n          },\n       download_csv_file() {\n\n            //define the heading for each row of the data\n            var csv = 'productName,description,category,price,quantity,imageUrl\\n';\n            \n            //merge the data with CSV\n            this.csvFileData.forEach(function(row) {\n                    csv += row.join(',');\n                    csv += \"\\n\";\n            });\n         \n            //display the created CSV data on the web browser \n            document.write(csv);\n        \n           \n            var hiddenElement = document.createElement('a');\n            hiddenElement.href = 'data:text/csv;charset=utf-8,' + encodeURI(csv);\n            hiddenElement.target = '_blank';\n            \n            //provide the name for the CSV file to be downloaded\n            hiddenElement.download = 'sampleProduct.csv';\n            hiddenElement.click();\n            // document.removeElement('a')\n            location.reload();\n        },\n        addFile(e) {\n            let droppedFiles = e.dataTransfer.files;\n            console.log(droppedFiles)\n            this.files=[];\n            if(!droppedFiles) return;\n            // this tip, convert FileList to array, credit: https://www.smashingmagazine.com/2018/01/drag-drop-file-uploader-vanilla-js/\n            ([...droppedFiles]).forEach(f => {\n              this.files.push(f);\n            });\n            this.$refs.file.value = null;\n            \n          },\n          uploadFileNow()\n      {\n        console.log(\"file upload\")\n        console.log(this.selectedFiles)\n        var sellerId=localStorage.getItem('userId');\n          let formData = new FormData();\n          formData.append(\"file\",this.files[0]);\n         console.log(this.files[0])\n          for (const pair of formData.entries()) {\n            console.log(`${pair[0]}, ${pair[1]}`);\n          }\n          var payload={\n            formData,\n            sellerId\n        }\n         \n        uploadProductViaFile({\n                \n          success: ({ data }) => {\n              console.log(\"import product\")\n              console.log(data)\n              if(data.message=='success')\n              {\n                this.userMessage=\"Products Added Successfullt\"\n              }\n              \n          },\n          error: (e) => {\n             \n              console.warn(e);\n          },\n          payload\n\n      })\n      },\n      countDownChanged(c) {\n           \n        this.dismissCountDown = c;\n        if(c==0)\n        {\n            this.userMessage=\"\"\n        }\n      },\n      showAlert() {\n        this.dismissCountDown = this.dismissSecs;\n      },\n          addFileInput()\n          {\n            console.log(\"add file\")\n            this.files=[];\n            this.files.push(event.target.files[0]) ;\n            this.$refs.file.value = null;\n          },\n          removeFile(file){\n            this.files = this.files.filter(f => {\n              return f != file;\n            });      \n          },\n          upload() {\n            \n            let formData = new FormData();\n            this.files.forEach((f,x) => {\n              formData.append('file'+(x+1), f);\n            });\n            \n            fetch('https://httpbin.org/post', {\n              method:'POST',\n              body: formData\n            })\n            .then(res => res.json())\n            .then(res => {\n               console.log('done uploading', res);\n            })\n            .catch(e => {\n              console.error(JSON.stringify(e.message));\n            });\n            \n          }\n        }\n\n    }\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}