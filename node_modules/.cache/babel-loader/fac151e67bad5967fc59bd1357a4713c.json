{"ast":null,"code":"import { postsellerproducts } from \"@/service/SellerProductService\";\nexport default {\n  name: \"AddProductComponent\",\n\n  data() {\n    return {\n      dismissSecs: 10,\n      dismissCountDown: 0,\n      userMessage: \"\",\n      product: {\n        productName: \"\",\n        productPrice: 0,\n        description: \"\",\n        category: \"\",\n        price: 0,\n        sellerId: \"\",\n        quantity: 0,\n        errorSpanMessage: '',\n        coupon: \"\",\n        imageUrl: \"https://campiazza-media.s3.amazonaws.com/unknown.png\",\n        sellingPrice: \"\"\n      },\n      price: 1,\n      quantity: 0,\n      selectedFiles: undefined,\n      nameError: false,\n      categoryError: false,\n      imageError: false,\n      descriptionError: false,\n      nameSpanError: '',\n      categorySpanError: '',\n      descriptionSpanError: ''\n    };\n  },\n\n  watch: {\n    price(newvalue, olvalue) {\n      console.log(typeof newvalue, newvalue, typeof olvalue, olvalue);\n      console.log(typeof this.price, this.price);\n\n      if (this.price < 0) {\n        this.price = 1;\n      }\n    }\n\n  },\n  methods: {\n    roundOff() {\n      if (this.quantity == \"\" || this.quantity < 0 || this.quantity == undefined) {\n        this.quantity = 0;\n      } else {\n        this.quantity = parseInt(this.quantity);\n      }\n    },\n\n    nameCheck() {\n      this.nameError = true;\n      this.nameSpanError = '';\n      if (this.product.productName.length < 2) this.nameSpanError = \"Minimum 2 characters\";else if (this.product.productName.length > 20) this.nameSpanError = \"Maximum 20 characters\"; //  if (this.seller.password.search(/[^A-Za-z0-9]/) > 0) {\n      //      this.nameSpanError='must not contain special characters'\n      //   }\n      else {\n        this.nameSpanError = '';\n        this.nameError = false;\n      }\n    },\n\n    categoryCheck() {\n      var categoryRegx = new RegExp('^[a-zA-Z . ]+$');\n      this.categoryError = true;\n      this.categorySpanError = '';\n      if (this.product.category.length < 2) this.categorySpanError = \"Minimum 2 characters\";else if (this.product.category.length > 20) this.categorySpanError = \"Maximum 20 characters\"; //  if (this.seller.password.search(/[^A-Za-z0-9]/) > 0) {\n      //      this.nameSpanError='must not contain special characters'\n      //   }\n      else if (!categoryRegx.test(this.product.category)) {\n        this.categorySpanError = \"Must contain Alphabets only\";\n      } else {\n        this.categorySpanError = '';\n        this.categoryError = false;\n      }\n    },\n\n    descriptionCheck() {\n      this.descriptionError = true;\n      this.descriptionSpanError = '';\n      if (this.product.description.length < 10) this.descriptionSpanError = \"Give more information\";else if (this.product.description.length > 350) this.descriptionSpanError = \"Limit execeded\"; //  if (this.seller.password.search(/[^A-Za-z0-9]/) > 0) {\n      //      this.descriptionSpanError='must not contain special characters'\n      //   }\n      else {\n        this.descriptionSpanError = '';\n        this.descriptionError = false;\n      }\n    },\n\n    addProduct() {\n      this.nameError = false;\n      this.categoryError = false;\n      this.descriptionError = false;\n      this.imageError = false;\n      if (this.product.productName.length == 0) this.nameError = true;\n      if (this.product.category.length == 0) this.categoryError = true;\n      if (this.product.imageUrl.length == 0) this.imageError = true;\n      if (this.product.description.length == 0) this.descriptionError = true;\n      if (this.price.length == 0) this.price = 1;\n\n      if (!this.nameError && !this.categoryError && !this.imageError && !this.descriptionError) {\n        this.errorSpanMessage = '';\n        console.log(\"inside\");\n        this.nameCheck();\n        this.categoryCheck();\n        this.descriptionCheck();\n\n        if (!this.nameError && !this.categoryError && !this.imageError && !this.descriptionError) {\n          this.product.sellerId = localStorage.getItem(\"userId\");\n          this.product.price = this.price, this.product.quantity = this.quantity;\n          postsellerproducts({\n            success: ({\n              data\n            }) => {\n              console.log(data);\n              this.showAlert();\n              this.userMessage = \"Product Added Sucessfuly\";\n              this.product = {\n                productName: \"\",\n                productPrice: \"\",\n                description: \"\",\n                category: \"\",\n                sellerId: \"\",\n                quantity: \"\",\n                coupon: \"\",\n                imageUrl: \"https://campiazza-media.s3.amazonaws.com/unknown.png\",\n                sellingPrice: \"\"\n              };\n              this.price = 0;\n              this.quantity = 0;\n            },\n            error: e => {\n              console.warn(e);\n              this.showAlert();\n              this.userMessage = \"Something went wrong\";\n            },\n            payload: this.product\n          });\n        }\n      } else {\n        this.errorSpanMessage = \"Please fill all the fields\";\n      }\n    },\n\n    selectFile() {\n      this.selectedFiles = event.target.files[0];\n    },\n\n    moveToAddProduct() {\n      this.$router.push({\n        path: \"import\"\n      });\n    },\n\n    countDownChanged(c) {\n      this.dismissCountDown = c;\n\n      if (c == 0) {\n        this.userMessage = \"\";\n      }\n    },\n\n    showAlert() {\n      this.dismissCountDown = this.dismissSecs;\n    },\n\n    uploadFile() {\n      console.log(\"file upload\");\n      console.log(this.selectedFiles);\n      var sellerId = localStorage.getItem(\"userId\");\n      let formData = new FormData();\n      formData.append(\"file\", this.selectedFiles);\n\n      for (const pair of formData.entries()) {\n        console.log(`${pair[0]}, ${pair[1]}`);\n      }\n\n      this.$store.dispatch(\"uploadFile\", {\n        formData,\n        sellerId\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAyHA;AACA;EACAA,2BADA;;EAEAC;IACA;MACAC,eADA;MAEAC,mBAFA;MAGAC,eAHA;MAIAC;QACAC,eADA;QAEAC,eAFA;QAGAC,eAHA;QAIAC,YAJA;QAKAC,QALA;QAMAC,YANA;QAOAC,WAPA;QAQAC,oBARA;QASAC,UATA;QAUAC,gEAVA;QAWAC;MAXA,CAJA;MAiBAN,QAjBA;MAkBAE,WAlBA;MAmBAK,wBAnBA;MAoBAC,gBApBA;MAqBAC,oBArBA;MAsBAC,iBAtBA;MAuBAC,uBAvBA;MAwBAC,iBAxBA;MAyBAC,qBAzBA;MA0BAC;IA1BA;EA4BA,CA/BA;;EAiCAC;IACAf;MACAgB;MACAA;;MACA;QACA;MACA;IACA;;EAPA,CAjCA;EA0CAC;IACAC;MACA,IACA,uBACA,iBADA,IAEA,0BAHA,EAIA;QACA;MACA,CANA,MAMA;QACA;MACA;IACA,CAXA;;IAYAC,YACA;MACA;MACA;MACA,yCACA,4CADA,KAEA,0CACA,6CADA,CAEA;MACA;MACA;MAJA,KAKA;QACA;QACA;MACA;IACA,CA3BA;;IA4BAC,gBACA;MACA;MAGA;MACA;MACA,sCACA,gDADA,KAEA,uCACA,iDADA,CAEA;MACA;MACA;MAJA,KAKA;QAEA;MAEA,CAJA,MAKA;QACA;QACA;MACA;IACA,CAnDA;;IAoDAC,mBACA;MACA;MACA;MACA,0CACA,oDADA,KAEA,2CACA,6CADA,CAEA;MACA;MACA;MAJA,KAKA;QACA;QACA;MACA;IACA,CAnEA;;IAoEAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MACA,0FACA;QACA;QACAN;QACA;QACA;QACA;;QACA,0FACA;UACA;UACA,iCACA,qCADA;UAEAO;YACAC;cAAAjC;YAAA;cACAyB;cACA;cACA;cACA;gBACApB,eADA;gBAEAC,gBAFA;gBAGAC,eAHA;gBAIAC,YAJA;gBAKAE,YALA;gBAMAC,YANA;gBAOAE,UAPA;gBAQAC,gEARA;gBASAC;cATA;cAWA;cACA;YACA,CAlBA;YAmBAmB;cACAT;cACA;cACA;YACA,CAvBA;YAwBAU;UAxBA;QA0BA;MACA,CAvCA,MAyCA;QACA;MACA;IACA,CA1HA;;IA2HAC;MACA;IACA,CA7HA;;IA8HAC;MACA;QAAAC;MAAA;IACA,CAhIA;;IAiIAC;MACA;;MACA;QACA;MACA;IACA,CAtIA;;IAuIAC;MACA;IACA,CAzIA;;IA0IAC;MACAhB;MACAA;MACA;MACA;MACAiB;;MAEA;QACAjB;MACA;;MACA;QAAAiB;QAAAhC;MAAA;IACA;;EArJA;AA1CA","names":["name","data","dismissSecs","dismissCountDown","userMessage","product","productName","productPrice","description","category","price","sellerId","quantity","errorSpanMessage","coupon","imageUrl","sellingPrice","selectedFiles","nameError","categoryError","imageError","descriptionError","nameSpanError","categorySpanError","descriptionSpanError","watch","console","methods","roundOff","nameCheck","categoryCheck","descriptionCheck","addProduct","postsellerproducts","success","error","payload","selectFile","moveToAddProduct","path","countDownChanged","showAlert","uploadFile","formData"],"sourceRoot":"src/components","sources":["AddProductFormComponent.vue"],"sourcesContent":["<template>\n  <div class=\"main-body\">\n    <b-alert\n      class=\"alertMessageText\"\n      :show=\"dismissCountDown\"\n      dismissible\n      variant=\"warning\"\n      @dismiss-count-down=\"countDownChanged\"\n    >\n      {{ userMessage }}\n      <span class=\"seconds\">{{ dismissCountDown }} seconds...</span>\n    </b-alert>\n    <div class=\"page-headers\">\n      <b-container-fluid>\n        <b-row>\n          <h4>Product Add</h4>\n          <h6>Create new product</h6>\n        </b-row>\n      </b-container-fluid>\n    </div>\n\n    <div class=\"main-body-container\">\n      <b-row>\n        <b-container-fluid>\n          <b-row>\n            <b-col class=\"uploadFile\">\n              <button @click=\"moveToAddProduct\" class=\"addCsv\">\n                Upload via csv\n              </button>\n            </b-col>\n          </b-row>\n          <b-row>\n            <b-col cols=\"12\" lg=\"8\" md=\"8\" sm=\"12\">\n              <b-row>\n                <span class=\"errorMessage\">{{errorSpanMessage}}</span>\n                 \n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\"><span class=\"starClass\">*</span> Product Name</label>\n                  <b-form-input\n                    :class=\"nameError ? 'inputError' : ''\"\n                    v-model=\"product.productName\"\n                    type=\"text\"\n                    required\n                  ></b-form-input>\n                   <span class=\"errorMessage\">{{nameSpanError}}</span>\n                  \n                </b-col>\n\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\"><span class=\"starClass\">*</span> Product Price in ( &#8377; )</label>\n                  <b-form-input\n                 \n                    v-model=\"price\"\n                    type=\"number\"\n                  ></b-form-input>\n                </b-col>\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\"><span class=\"starClass\">*</span> Quantity</label>\n                  <b-form-input\n                    @blur=\"roundOff\"\n                    v-model=\"quantity\"\n                    type=\"number\"\n                  ></b-form-input>\n                </b-col>\n              </b-row>\n              <b-row>\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                 \n                  <label class=\"formLabels\"><span class=\"starClass\">*</span> Category</label>\n                  <b-form-input\n                    v-model=\"product.category\"\n                    type=\"text\"\n                    :class=\"categoryError ? 'inputError' : ''\"\n                  ></b-form-input>\n                   <span class=\"errorMessage\">{{categorySpanError}}</span> \n                </b-col>\n                <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n                  <label class=\"formLabels\"><span class=\"starClass\">*</span> Image Url</label>\n                  <b-form-input\n                    v-model=\"product.imageUrl\"\n                    type=\"text\"\n                    :class=\"imageError ? 'inputError' : ''\"\n                  ></b-form-input>\n                </b-col>\n              </b-row>\n            </b-col>\n\n            <b-col cols=\"12\" lg=\"4\" md=\"6\" sm=\"12\">\n              <img\n                class=\"imgFound\"\n                width=\"150px\"\n                height=\"150px\"\n                :src=\"product.imageUrl\"\n                alt=\"Image not found\"\n                srcset=\"\"\n              />\n            </b-col>\n          </b-row>\n        </b-container-fluid>\n      </b-row>\n      <b-row>\n        <b-col cols=\"12\" lg=\"12\" md=\"12\" sm=\"12\">\n          <label class=\"formLabels\"><span class=\"starClass\">*</span> Descriptions</label>\n          <b-form-textarea\n            id=\"textarea\"\n            v-model=\"product.description\"\n            :class=\"descriptionError ? 'inputError' : ''\"\n            placeholder=\"Maximum 350 characters\"\n            rows=\"3\"\n            max-rows=\"6\"\n          ></b-form-textarea>\n           <span class=\"errorMessage\">{{descriptionSpanError}}</span> \n        </b-col>\n        <b-col class=\"submit-button-product\">\n          <button class=\"download_csv\" @click=\"addProduct\">Submit</button>\n        </b-col>\n      </b-row>\n    </div>\n  </div>\n</template>\n<script>\nimport { postsellerproducts } from \"@/service/SellerProductService\";\nexport default {\n  name: \"AddProductComponent\",\n  data() {\n    return {\n      dismissSecs: 10,\n      dismissCountDown: 0,\n      userMessage: \"\",\n      product: {\n        productName: \"\",\n        productPrice: 0,\n        description: \"\",\n        category: \"\",\n        price: 0,\n        sellerId: \"\",\n        quantity: 0,\n        errorSpanMessage:'',\n        coupon: \"\",\n        imageUrl: \"https://campiazza-media.s3.amazonaws.com/unknown.png\",\n        sellingPrice: \"\",\n      },\n      price: 1,\n      quantity: 0,\n      selectedFiles: undefined,\n      nameError: false,\n      categoryError: false,\n      imageError: false,\n      descriptionError: false,\n      nameSpanError:'',\n      categorySpanError:'',\n      descriptionSpanError:''\n    };\n  },\n\n  watch: {\n    price(newvalue, olvalue) {\n      console.log(typeof newvalue, newvalue, typeof olvalue, olvalue);\n      console.log(typeof this.price, this.price);\n      if (this.price < 0) {\n        this.price = 1;\n      }\n    },\n  },\n  methods: {\n    roundOff() {\n      if (\n        this.quantity == \"\" ||\n        this.quantity < 0 ||\n        this.quantity == undefined\n      ) {\n        this.quantity = 0;\n      } else {\n        this.quantity = parseInt(this.quantity);\n      }\n    },\n     nameCheck()\n        {\n          this.nameError=true\n           this.nameSpanError=''\n           if(this.product.productName.length<2)\n           this.nameSpanError=\"Minimum 2 characters\"\n           else if(this.product.productName.length>20)\n           this.nameSpanError=\"Maximum 20 characters\"\n          //  if (this.seller.password.search(/[^A-Za-z0-9]/) > 0) {\n          //      this.nameSpanError='must not contain special characters'\n          //   }\n           else{ \n            this.nameSpanError=''\n            this.nameError=false\n           }\n        },\n        categoryCheck()\n        {\n           var categoryRegx = new RegExp('^[a-zA-Z . ]+$')\n      \n            \n          this.categoryError=true\n           this.categorySpanError=''\n           if(this.product.category.length<2)\n           this.categorySpanError=\"Minimum 2 characters\"\n           else if(this.product.category.length>20)\n           this.categorySpanError=\"Maximum 20 characters\"\n          //  if (this.seller.password.search(/[^A-Za-z0-9]/) > 0) {\n          //      this.nameSpanError='must not contain special characters'\n          //   }\n          else if (!categoryRegx.test(this.product.category)){\n\n             this.categorySpanError=\"Must contain Alphabets only\"\n          \n          }\n           else{ \n            this.categorySpanError=''\n            this.categoryError=false\n           }\n        },\n        descriptionCheck()\n        {\n          this.descriptionError=true\n           this.descriptionSpanError=''\n           if(this.product.description.length<10)\n           this.descriptionSpanError=\"Give more information\"\n           else if(this.product.description.length>350)\n           this.descriptionSpanError=\"Limit execeded\"\n          //  if (this.seller.password.search(/[^A-Za-z0-9]/) > 0) {\n          //      this.descriptionSpanError='must not contain special characters'\n          //   }\n           else{ \n            this.descriptionSpanError=''\n            this.descriptionError=false\n           }\n        },\n    addProduct() {\n      this.nameError = false;\n      this.categoryError = false;\n      this.descriptionError = false;\n      this.imageError = false;\n      if (this.product.productName.length == 0) this.nameError = true;\n      if (this.product.category.length == 0) this.categoryError = true;\n      if (this.product.imageUrl.length == 0) this.imageError = true;\n      if (this.product.description.length == 0) this.descriptionError = true;\n      if (this.price.length == 0) this.price = 1;\n      if(!this.nameError&&(!this.categoryError)&&(!this.imageError)&&(!this.descriptionError))\n      { \n        this.errorSpanMessage=''\n        console.log(\"inside\")\n        this.nameCheck();\n        this.categoryCheck()\n        this.descriptionCheck()\n         if(!this.nameError&&(!this.categoryError)&&(!this.imageError)&&(!this.descriptionError))\n      {\n      this.product.sellerId = localStorage.getItem(\"userId\");\n      (this.product.price = this.price),\n        (this.product.quantity = this.quantity);\n      postsellerproducts({\n        success: ({ data }) => {\n          console.log(data);\n          this.showAlert();\n          this.userMessage = \"Product Added Sucessfuly\";\n          this.product = {\n            productName: \"\",\n            productPrice: \"\",\n            description: \"\",\n            category: \"\",\n            sellerId: \"\",\n            quantity: \"\",\n            coupon: \"\",\n            imageUrl: \"https://campiazza-media.s3.amazonaws.com/unknown.png\",\n            sellingPrice: \"\",\n          };\n          this.price = 0;\n          this.quantity = 0;\n        },\n        error: (e) => {\n          console.warn(e);\n          this.showAlert();\n          this.userMessage = \"Something went wrong\";\n        },\n        payload: this.product,\n      });\n      }\n      }\n      else\n      {\n        this.errorSpanMessage=\"Please fill all the fields\"\n      }\n    },\n    selectFile() {\n      this.selectedFiles = event.target.files[0];\n    },\n    moveToAddProduct() {\n      this.$router.push({ path: \"import\" });\n    },\n    countDownChanged(c) {\n      this.dismissCountDown = c;\n      if (c == 0) {\n        this.userMessage = \"\";\n      }\n    },\n    showAlert() {\n      this.dismissCountDown = this.dismissSecs;\n    },\n    uploadFile() {\n      console.log(\"file upload\");\n      console.log(this.selectedFiles);\n      var sellerId = localStorage.getItem(\"userId\");\n      let formData = new FormData();\n      formData.append(\"file\", this.selectedFiles);\n\n      for (const pair of formData.entries()) {\n        console.log(`${pair[0]}, ${pair[1]}`);\n      }\n      this.$store.dispatch(\"uploadFile\", { formData, sellerId });\n    },\n  },\n};\n</script>\n<style scoped>\n.uploadFile {\n  display: flex;\n  justify-content: flex-end;\n}\n.addCsv {\n  min-width: 120px;\n  background: #1b2850;\n\n  color: #fff;\n  font-size: 14px;\n  border: none;\n  text-decoration: none;\n  border-radius: 10px;\n  font-weight: 700;\n  padding: 14px 10px;\n}\nspan.errorMessage,.starClass\n{\n  color: red;\n}\n.addCsv a {\n  text-decoration: none;\n  color: white;\n}\n.uploadFile {\n  display: flex;\n  align-items: flex-end;\n}\n\n.main-body-container {\n  margin: 0 0 25px;\n\n  border: 1px solid #e8ebed;\n  border-radius: 6px;\n  background: white;\n  padding: 20px;\n}\n.inputError {\n  border: 1px solid red;\n}\n.imgFound {\n  max-width: 200px;\n  max-height: 200px;\n}\n.seconds {\n  display: none;\n}\n.alertMessageText {\n  text-align: center;\n}\n.main-body {\n  padding: 1% 2%;\n  background: #fafbfe;\n  padding: 1%;\n  text-align: left;\n  height: 100vh;\n  font-family: sans-serif;\n}\n.addProduct {\n  margin: 1% 2%;\n  text-align: left;\n}\n.download_csv {\n  min-width: 120px;\n  background: #ff9f43;\n  color: #fff;\n  font-size: 14px;\n  border: none;\n  border-radius: 10px;\n  font-weight: 700;\n  padding: 14px 10px;\n}\n.submit-button-product {\n  margin-top: 2%;\n}\n.download_csv:hover {\n  background: #ff8e25;\n}\n.page-headers h4 {\n  font-weight: 700;\n  color: #212b36;\n\n  font-size: 18px;\n}\n.page-headers h6 {\n  font-size: 14px;\n  color: #555;\n  font-weight: 400;\n}\n</style>\n\n"]},"metadata":{},"sourceType":"module"}